var b=(i,_,a)=>new Promise((n,t)=>{var d=r=>{try{c(a.next(r))}catch(p){t(p)}},w=r=>{try{c(a.throw(r))}catch(p){t(p)}},c=r=>r.done?n(r.value):Promise.resolve(r.value).then(d,w);c((a=a.apply(i,_)).next())});import{d as D,n as v,b7 as K,D as W,q as L,r as h,c as l,e as x,A as B,aW as U,j as m,g as C,h as j,o as s,F as y,t as f,i as q,f as V,y as F,an as A,ao as E,_ as M}from"./index-z501862F.js";import{c as R}from"./category-DlOD2DRX.js";import{u as z}from"./hooks-BuEsGYNv.js";const G=i=>(A("data-v-6e51190a"),i=i(),E(),i),J={class:"search-box"},O={key:0,class:"hot-words-wrapper"},P={class:"category-title"},Q=["onClick"],X={key:1,class:"search-history"},Y=G(()=>V("h3",null,"搜索记录",-1)),Z=["onClick"],ee=D({__name:"SearchBox",setup(i){const _=v([]),a=v(1),n=v(""),t=K("searchHistory",[]),d=v(!1),w=v([{title:"成片区",words:["美妆","祛斑","个护","保健品","私护","酒品","减肥","保健品2"]},{title:"素材区",words:["减肥","个护","保健品","私护","酒品","美妆"]},{title:"第三方",words:["面部护理","个护","减肥","美妆"]},{title:"图片",words:["资质/链接-面部护理","设计-面部护理","洗发水"]},{title:"文案",words:["面部护理","美妆","个护"]}]),c=()=>{n.value.trim()!==""&&(t.value.includes(n.value)||t.value.push(n.value))},r=o=>{a.value=1,n.value=o,c()},p=o=>{a.value=1,n.value=o,c()};W(t,o=>{o.length>10&&o.shift()},{deep:!0});function S(){return b(this,null,function*(){const{data:o}=yield R();_.value=o,a.value=o.length>0?o[0].id:1})}return L(()=>{S(),t.value.length>10&&(t.value=t.value.slice(-10))}),(o,u)=>{const I=h("el-option"),H=h("el-select"),T=h("el-button"),N=h("el-input");return s(),l("div",J,[x(N,{modelValue:n.value,"onUpdate:modelValue":u[1]||(u[1]=e=>n.value=e),style:{"max-width":"700px",border:"0.5px solid var(--el-color-primary-light-8)"},placeholder:"请输入搜索标题或ID",onKeyup:U(c,["enter"]),onFocus:u[2]||(u[2]=e=>d.value=!0),onBlur:u[3]||(u[3]=e=>d.value=!1)},{prepend:m(()=>[x(H,{modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=e=>a.value=e),style:{width:"100px"}},{default:m(()=>[(s(!0),l(y,null,f(_.value,e=>(s(),q(I,{label:e.name,value:e.id},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),append:m(()=>[x(T,{type:"primary",icon:C(z)("ri:search-line"),style:{"background-color":"var(--el-color-primary)",color:"#FFFFFF"},onClick:c},{default:m(()=>[j(" 搜索 ")]),_:1},8,["icon"])]),_:1},8,["modelValue"]),d.value?(s(),l("div",O,[(s(!0),l(y,null,f(w.value,(e,g)=>(s(),l("div",{key:g},[V("span",P,F(e.title),1),(s(!0),l(y,null,f(e.words,(k,$)=>(s(),l("span",{key:$,class:"hot-word",onClick:te=>p(k)},F(k),9,Q))),128))]))),128))])):B("",!0),C(t).length>0?(s(),l("div",X,[Y,V("ul",null,[(s(!0),l(y,null,f(C(t),(e,g)=>(s(),l("li",{key:g,onClick:k=>r(e)},F(e),9,Z))),128))])])):B("",!0)])}}}),ne=M(ee,[["__scopeId","data-v-6e51190a"]]);export{ne as default};
