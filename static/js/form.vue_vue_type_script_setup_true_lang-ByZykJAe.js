import{P as N,d as P,n as U,r,c,o,e as n,j as u,f as T,A as h,y as v,g as y,aE as B,F as i,t as f,i as t,h as x}from"./index-vTRDVSJy.js";const S=/^[a-zA-Z0-9_]{4,20}$/,A=/^[^\u4e00-\u9fa5]{6,20}$/,D=N({username:[{required:!0,validator:(V,p,s)=>{p===""?s(new Error("请输入用户名")):S.test(p)?s():s(new Error("用户名格式必须为4至20位的字母、数字、下划线组成"))},trigger:"blur"}],password:[{required:!0,validator:(V,p,s)=>{p===""?s(new Error("请输入密码")):A.test(p)?s():s(new Error("密码格式必须在6至20个字符之间且不能包含中文"))},trigger:"blur"}],nickname:[{required:!0,message:"用户昵称为必填项",trigger:"blur"}],status:[{required:!0,message:"状态为必填项",trigger:"blur"}],gender:[{required:!0,message:"性别为必填项",trigger:"blur"}]}),O=[{label:"正常",value:0,disabled:!1},{label:"冻结",value:1,disabled:!1}],G={key:0},j=P({__name:"form",props:{formInline:{default:()=>({count:0,type:0,publicTime:new Date,remark:"",users:[],userIds:[],taskColumns:[],columns:[]})}},setup(V,{expose:p}){const s=V,b=U(),l=U(s.formInline);function w(){return b.value}return p({getRef:w}),(L,d)=>{const E=r("el-cascader"),m=r("el-form-item"),_=r("el-input"),R=r("el-radio"),$=r("el-radio-group"),C=r("el-date-picker"),g=r("el-option"),k=r("el-select"),I=r("el-checkbox"),q=r("el-text"),F=r("el-form");return o(),c("form",null,[n(F,{ref_key:"ruleFormRef",ref:b,model:l.value,rules:y(D),"label-width":"100px"},{default:u(()=>[n(m,{label:"指派人：",prop:"count"},{default:u(()=>[n(E,{modelValue:l.value.userIds,"onUpdate:modelValue":d[0]||(d[0]=e=>l.value.userIds=e),class:"w-full",options:l.value.users,props:{value:"id",label:"name",emitPath:!1,multiple:!0},clearable:"","collapse-tags":"",filterable:"",placeholder:"请选择指派人"},{default:u(({node:e,data:a})=>[T("span",null,v(a.name),1),e.isLeaf?h("",!0):(o(),c("span",G," ("+v(a.children.length)+") ",1))]),_:1},8,["modelValue","options"])]),_:1}),n(m,{label:"下单数量：",prop:"count"},{default:u(()=>[n(_,{modelValue:l.value.count,"onUpdate:modelValue":d[1]||(d[1]=e=>l.value.count=e),autocomplete:"off",clearable:"",placeholder:"请输入用户名（登录名）"},null,8,["modelValue"])]),_:1}),n(m,{label:"可见性：",prop:"type"},{default:u(()=>[n($,{modelValue:l.value.type,"onUpdate:modelValue":d[2]||(d[2]=e=>l.value.type=e),disabled:y(B)().isSelf(l.value.id)&&l.value.type==0},{default:u(()=>[(o(!0),c(i,null,f(y(O),e=>(o(),t(R,{key:e.value,value:e.value,border:""},{default:u(()=>[x(v(e.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1}),n(m,{label:"公开日期：",prop:"publicTime"},{default:u(()=>[n(C,{modelValue:l.value.publicTime,"onUpdate:modelValue":d[3]||(d[3]=e=>l.value.publicTime=e),type:"date",placeholder:"请选择公开日期"},null,8,["modelValue"])]),_:1}),n(m,{label:"简介："},{default:u(()=>[n(_,{modelValue:l.value.remark,"onUpdate:modelValue":d[4]||(d[4]=e=>l.value.remark=e),placeholder:"请输入简介",type:"textarea"},null,8,["modelValue"])]),_:1}),(o(!0),c(i,null,f(l.value.taskColumns,e=>(o(),t(m,{key:e.id,label:e.name},{default:u(()=>[e.type==1||e.type==2?(o(),t(k,{key:0,modelValue:l.value.columns[e.id],"onUpdate:modelValue":a=>l.value.columns[e.id]=a,multiple:e.type==2,placeholder:`请选择${e.name}`,style:{width:"300px"}},{default:u(()=>[(o(!0),c(i,null,f(e.selectOptions,a=>(o(),t(g,{key:a,label:a,value:a},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","multiple","placeholder"])):e.type==3||e.type==4?(o(),t(k,{key:1,modelValue:l.value.columns[e.id],"onUpdate:modelValue":a=>l.value.columns[e.id]=a,multiple:e.type==2,placeholder:`请选择${e.name}`,style:{width:"300px"}},{default:u(()=>[(o(!0),c(i,null,f(e.selectOptions,a=>(o(),t(g,{key:a,label:a,value:a},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","multiple","placeholder"])):e.type==5?(o(),t(_,{key:2,modelValue:l.value.columns[e.id],"onUpdate:modelValue":a=>l.value.columns[e.id]=a,placeholder:`请输入${e.name}`,type:"number"},null,8,["modelValue","onUpdate:modelValue","placeholder"])):e.type==6?(o(),t(I,{key:3,modelValue:l.value.columns[e.id],"onUpdate:modelValue":a=>l.value.columns[e.id]=a},null,8,["modelValue","onUpdate:modelValue"])):e.type==7?(o(),t(_,{key:4,modelValue:l.value.columns[e.id],"onUpdate:modelValue":a=>l.value.columns[e.id]=a,placeholder:`请输入${e.name}`,type:"textarea"},null,8,["modelValue","onUpdate:modelValue","placeholder"])):e.type==8?(o(),t(_,{key:5,modelValue:l.value.columns[e.id],"onUpdate:modelValue":a=>l.value.columns[e.id]=a,placeholder:`请输入${e.name}`},null,8,["modelValue","onUpdate:modelValue","placeholder"])):e.type==11?(o(),t(q,{key:6,type:"danger"},{default:u(()=>[x(" 任务发布成功后，在列表内填写拆解表 ")]),_:1})):h("",!0)]),_:2},1032,["label"]))),128))]),_:1},8,["model","rules"])])}}});export{j as _,O as s};
