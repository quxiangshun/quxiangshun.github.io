import{d as E,n as h,r,c as y,o as c,e as a,f as W,j as l,aW as k,g as e,F as q,t as A,i as G,h as i,a3 as v,U as w,_ as H}from"./index-z501862F.js";import{useRole as J}from"./hook-DeEY93rS.js";import{P as Q}from"./index-DV3edBX0.js";import{u as d}from"./hooks-BuEsGYNv.js";import{s as X}from"./form.vue_vue_type_script_setup_true_lang-Di_MkYaT.js";import{d as Y}from"./delete-Ce0TSdK5.js";import{d as Z}from"./edit-pen-Ci7W0xNM.js";import{d as ee}from"./refresh-C_2cW1e5.js";import{d as oe}from"./menu-DpbF6EVM.js";import{d as ae}from"./add-circle-line-DOJqVT3s.js";import{_ as le}from"./index.vue_vue_type_style_index_0_lang-COYYRo9U.js";import"./index-C27yIgHt.js";import"./role-BNws23wA.js";import"./sortable.esm-BY9aeJ8_.js";import"./epTheme-B7g_PWz4.js";import"./types-BvkONvPs.js";import"./permission-BxvsBik5.js";const ne={class:"main"},te=E({name:"SystemRole",__name:"index",setup(re){const f=h(),x=h(),{form:t,isShow:R,loading:_,columns:V,dataList:S,pagination:$,curRow:D,roleMenuDrawer:U,onSearch:m,resetForm:B,openDialog:g,handleDelete:M,handleSizeChange:N,handleCurrentChange:P,handleSelectionChange:z,openRoleMenu:K,handleDrawerUpdate:O}=J();return(se,n)=>{const C=r("el-input"),p=r("el-form-item"),j=r("el-option"),F=r("el-select"),s=r("el-button"),T=r("el-form"),I=r("pure-table");return c(),y("div",ne,[a(T,{ref_key:"formRef",ref:f,inline:!0,model:e(t),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px] overflow-auto"},{default:l(()=>[a(p,{label:"角色名称：",prop:"roleName"},{default:l(()=>[a(C,{modelValue:e(t).roleName,"onUpdate:modelValue":n[0]||(n[0]=o=>e(t).roleName=o),placeholder:"请输入角色名称",clearable:"",class:"!w-[180px]",onKeyup:k(e(m),["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),a(p,{label:"角色编码：",prop:"roleCode"},{default:l(()=>[a(C,{modelValue:e(t).roleCode,"onUpdate:modelValue":n[1]||(n[1]=o=>e(t).roleCode=o),placeholder:"请输入角色编码",clearable:"",class:"!w-[180px]",onKeyup:k(e(m),["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),a(p,{label:"状态：",prop:"status"},{default:l(()=>[a(F,{modelValue:e(t).status,"onUpdate:modelValue":n[2]||(n[2]=o=>e(t).status=o),placeholder:"请选择状态",clearable:"",class:"!w-[180px]",onChange:e(m)},{default:l(()=>[(c(!0),y(q,null,A(e(X),o=>(c(),G(j,{key:o.value,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1}),a(p,null,{default:l(()=>[a(s,{type:"primary",icon:e(d)("ri:search-line"),loading:e(_),onClick:e(m)},{default:l(()=>[i(" 搜索 ")]),_:1},8,["icon","loading","onClick"]),a(s,{icon:e(d)(e(ee)),onClick:n[3]||(n[3]=o=>e(B)(f.value))},{default:l(()=>[i(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),W("div",{ref:"contentRef",class:v(["flex",e(w)()?"flex-wrap":""])},[a(e(Q),{class:v([e(R)&&!e(w)()?"!w-[60vw]":"w-full"]),style:{transition:"width 220ms cubic-bezier(0.4, 0, 0.2, 1)"},title:"列表",columns:e(V),onRefresh:e(m)},{buttons:l(()=>[a(s,{type:"primary",icon:e(d)(e(ae)),onClick:n[4]||(n[4]=o=>e(g)())},{default:l(()=>[i(" 新增 ")]),_:1},8,["icon"])]),default:l(({size:o,dynamicColumns:L})=>[a(I,{ref_key:"tableRef",ref:x,"row-key":"id","align-whole":"center",showOverflowTooltip:"","table-layout":"auto",loading:e(_),size:o,adaptive:"",adaptiveConfig:{offsetBottom:108},data:e(S),columns:L,pagination:e($),paginationSmall:o==="small","header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:e(z),onPageSizeChange:e(N),onPageCurrentChange:e(P)},{operation:l(({row:u})=>[a(s,{class:"reset-margin",link:"",type:"primary",size:o,icon:e(d)(e(Z)),onClick:b=>e(g)("修改",u)},{default:l(()=>[i(" 修改 ")]),_:2},1032,["size","icon","onClick"]),a(s,{disabled:u.userCount>0,class:"reset-margin",link:"",type:"danger",size:o,icon:e(d)(e(Y)),onClick:b=>e(M)(u)},{default:l(()=>[i(" 删除 ")]),_:2},1032,["disabled","size","icon","onClick"]),a(s,{class:"reset-margin",link:"",type:"success",size:o,icon:e(d)(e(oe)),onClick:b=>e(K)(u)},{default:l(()=>[i(" 菜单权限 ")]),_:2},1032,["size","icon","onClick"])]),_:2},1032,["loading","size","data","columns","pagination","paginationSmall","header-cell-style","onSelectionChange","onPageSizeChange","onPageCurrentChange"])]),_:1},8,["class","columns","onRefresh"])],2),a(le,{roleMenuDrawer:e(U),roleObj:e(D),onUpdateRoleMenuDrawer:e(O)},null,8,["roleMenuDrawer","roleObj","onUpdateRoleMenuDrawer"])])}}}),Re=H(te,[["__scopeId","data-v-3a50f09c"]]);export{Re as default};
