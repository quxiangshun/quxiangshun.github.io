import{R as u}from"./index-By3I6NGF.js";import{P as R,d as k,n as p,r,i as C,o as d,j as l,e,g as n,f as I,c as O,A as y,y as f}from"./index-B7W7rs76.js";import{R as B}from"./index-HNrZqkcq.js";import"./hooks-D07EST8v.js";const D=R({name:[{required:!0,message:"Dept名称为必填项",trigger:"blur"}]}),N=[{label:"显示",tip:"可以使用",value:0},{label:"隐藏",tip:"禁止使用",value:1}],F={key:0},A=k({__name:"form",props:{formInline:{default:()=>({higherDeptOptions:[],parentId:0,name:"",sortOrder:1,visible:0,showParent:!1})}},setup(c,{expose:_}){const v=c,m=p(),o=p(v.formInline);function b(){return m.value}return _({getRef:b}),(P,a)=>{const V=r("el-cascader"),s=r("el-form-item"),g=r("el-input"),h=r("el-input-number"),x=r("el-row"),w=r("el-form");return d(),C(w,{ref_key:"ruleFormRef",ref:m,model:o.value,rules:n(D),"label-width":"100px"},{default:l(()=>[e(x,{gutter:30},{default:l(()=>[e(n(u),null,{default:l(()=>[e(s,{label:"上级部门："},{default:l(()=>[e(V,{modelValue:o.value.parentId,"onUpdate:modelValue":a[0]||(a[0]=t=>o.value.parentId=t),class:"w-full",options:o.value.higherDeptOptions,props:{value:"id",label:"title",emitPath:!1,checkStrictly:!0},clearable:"",filterable:"",placeholder:"请选择上级部门（不选则为顶级部门）"},{default:l(({node:t,data:i})=>[I("span",null,f(i.title),1),t.isLeaf?y("",!0):(d(),O("span",F," ("+f(i.children.length)+") ",1))]),_:1},8,["modelValue","options"])]),_:1})]),_:1}),e(n(u),{value:12,xs:24,sm:24},{default:l(()=>[e(s,{label:"部门名称：",prop:"name"},{default:l(()=>[e(g,{modelValue:o.value.name,"onUpdate:modelValue":a[1]||(a[1]=t=>o.value.name=t),clearable:"",placeholder:"请输入部门名称"},null,8,["modelValue"])]),_:1})]),_:1}),e(n(u),{value:12,xs:24,sm:24},{default:l(()=>[e(s,{label:"部门排序："},{default:l(()=>[e(h,{modelValue:o.value.sortOrder,"onUpdate:modelValue":a[2]||(a[2]=t=>o.value.sortOrder=t),class:"!w-full",min:1,max:9999,"controls-position":"right"},null,8,["modelValue"])]),_:1})]),_:1}),e(n(u),{value:12,xs:24,sm:24},{default:l(()=>[e(s,{label:"显示状态："},{default:l(()=>[e(n(B),{modelValue:o.value.visible,options:n(N),onChange:a[3]||(a[3]=({option:{value:t}})=>{o.value.visible=Number(t)})},null,8,["modelValue","options"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}});export{A as default};
