import{R as r}from"./index-_Th1-riL.js";import{P as T,d as O,n as g,r as p,i as m,o as s,j as a,e as l,A as d,g as u,f as I,c as R,y as V,bn as q}from"./index-vTRDVSJy.js";import{R as v}from"./index-CeG7CI6B.js";const F=T({title:[{required:!0,message:"菜单名称为必填项",trigger:"blur"}],name:[{required:!0,message:"路由名称为必填项",trigger:"blur"}],path:[{required:!0,message:"路由路径为必填项",trigger:"blur"}],component:[{required:!0,message:"组件路径为必填项",trigger:"blur"}],perms:[{required:!0,message:"权限标识为必填项",trigger:"blur"}]}),N=[{label:"目录",value:0,icon:"noto:crying-face",disabled:!1},{label:"菜单",value:1,icon:"noto:face-savoring-food",disabled:!1},{label:"iframe",value:2,icon:"noto:face-with-steam-from-nose",disabled:!1},{label:"外链",value:3,icon:"noto:grinning-face-with-sweat",disabled:!1},{label:"按钮",value:4,icon:"noto:grinning-squinting-face",disabled:!1}],L=[{label:"显示",tip:"会在菜单中显示",value:0},{label:"隐藏",tip:"不会在菜单中显示",value:1}],B=[{label:"不缓存",tip:"会保存该页面的整体状态，刷新后会清空状态",value:0},{label:"缓存",tip:"不会保存该页面的整体状态",value:1}],P=[{label:"关闭",tip:"无首次加载动画",value:0},{label:"开启",tip:"有首次加载动画",value:1}],M={key:0},E=O({__name:"form",props:{formInline:{default:()=>({type:0,higherMenuOptions:[],parentId:0,title:"",name:"",path:"",component:"",sortOrder:1,redirect:"",icon:"",extraIcon:"",enterTransition:"",leaveTransition:"",activePath:"",perms:"",frameSrc:"",frameLoading:0,cacheFlag:0,hiddenTag:!1,fixedTag:!1,visible:0,showParent:!1})}},setup(y,{expose:_}){const x=y,c=g(),e=g(x.formInline);function h(){return c.value}function k({index:w,option:t}){const{label:n,value:f}=t;switch(f){case 0:e.value.enterTransition="",e.value.leaveTransition="",e.value.component="",e.value.perms="";case 1:e.value.redirect="",e.value.frameSrc="",e.value.perms="";case 2:e.value.component="",e.value.perms="";case 3:e.value.component="",e.value.perms="";case 4:e.value.enterTransition="",e.value.leaveTransition="",e.value.component="",e.value.redirect="",e.value.frameSrc="",e.value.name="",e.value.path=""}}return _({getRef:h}),(w,t)=>{const n=p("el-form-item"),f=p("el-cascader"),i=p("el-input"),U=p("el-input-number"),C=p("el-row"),S=p("el-form");return s(),m(S,{ref_key:"ruleFormRef",ref:c,model:e.value,rules:u(F),"label-width":"100px"},{default:a(()=>[l(C,{gutter:30},{default:a(()=>[l(u(r),null,{default:a(()=>[l(n,{label:"菜单类型："},{default:a(()=>[l(u(v),{modelValue:e.value.type,"onUpdate:modelValue":t[0]||(t[0]=o=>e.value.type=o),options:u(N),onChange:k},null,8,["modelValue","options"])]),_:1})]),_:1}),l(u(r),null,{default:a(()=>[l(n,{label:"上级菜单："},{default:a(()=>[l(f,{modelValue:e.value.parentId,"onUpdate:modelValue":t[1]||(t[1]=o=>e.value.parentId=o),class:"w-full",options:e.value.higherMenuOptions,props:{value:"id",label:"title",emitPath:!1,checkStrictly:!0},clearable:"",filterable:"",placeholder:"请选择上级菜单（不选则为顶级菜单）"},{default:a(({node:o,data:b})=>[I("span",null,V(b.title),1),o.isLeaf?d("",!0):(s(),R("span",M," ("+V(b.children.length)+") ",1))]),_:1},8,["modelValue","options"])]),_:1})]),_:1}),l(u(r),{value:12,xs:24,sm:24},{default:a(()=>[l(n,{label:"菜单名称：",prop:"title"},{default:a(()=>[l(i,{modelValue:e.value.title,"onUpdate:modelValue":t[2]||(t[2]=o=>e.value.title=o),clearable:"",placeholder:"请输入菜单名称"},null,8,["modelValue"])]),_:1})]),_:1}),e.value.type!==4?(s(),m(u(r),{key:0,value:12,xs:24,sm:24},{default:a(()=>[l(n,{label:e.value.type!==3?"路由名称：":"外链地址：",prop:"name"},{default:a(()=>[l(i,{modelValue:e.value.name,"onUpdate:modelValue":t[3]||(t[3]=o=>e.value.name=o),clearable:"",placeholder:e.value.type!==3?"如：SystemMenu":"如：https://github.com"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})):d("",!0),e.value.type!==4?(s(),m(u(r),{key:1,value:12,xs:24,sm:24},{default:a(()=>[l(n,{label:"路由路径：",prop:"path"},{default:a(()=>[l(i,{modelValue:e.value.path,"onUpdate:modelValue":t[4]||(t[4]=o=>e.value.path=o),clearable:"",placeholder:"如：/system/menu"},null,8,["modelValue"])]),_:1})]),_:1})):d("",!0),e.value.type===1?(s(),m(u(r),{key:2,value:12,xs:24,sm:24},{default:a(()=>[l(n,{label:"组件路径：",prop:"component"},{default:a(()=>[l(i,{modelValue:e.value.component,"onUpdate:modelValue":t[5]||(t[5]=o=>e.value.component=o),clearable:"",placeholder:"如：system/menu/index"},null,8,["modelValue"])]),_:1})]),_:1})):d("",!0),l(u(r),{value:12,xs:24,sm:24},{default:a(()=>[l(n,{label:"菜单排序："},{default:a(()=>[l(U,{modelValue:e.value.sortOrder,"onUpdate:modelValue":t[6]||(t[6]=o=>e.value.sortOrder=o),class:"!w-full",min:1,max:9999,"controls-position":"right"},null,8,["modelValue"])]),_:1})]),_:1}),e.value.type===0?(s(),m(u(r),{key:3,value:12,xs:24,sm:24},{default:a(()=>[l(n,{label:"路由重定向："},{default:a(()=>[l(i,{modelValue:e.value.redirect,"onUpdate:modelValue":t[7]||(t[7]=o=>e.value.redirect=o),clearable:"",placeholder:"请输入默认跳转地址"},null,8,["modelValue"])]),_:1})]),_:1})):d("",!0),e.value.type!==4?(s(),m(u(r),{key:4,value:12,xs:24,sm:24},{default:a(()=>[l(n,{label:"菜单图标："},{default:a(()=>[l(u(q),{modelValue:e.value.icon,"onUpdate:modelValue":t[8]||(t[8]=o=>e.value.icon=o),class:"w-full"},null,8,["modelValue"])]),_:1})]),_:1})):d("",!0),e.value.type===4?(s(),m(u(r),{key:5,value:12,xs:24,sm:24},{default:a(()=>[l(n,{label:"权限标识：",prop:"perms"},{default:a(()=>[l(i,{modelValue:e.value.perms,"onUpdate:modelValue":t[9]||(t[9]=o=>e.value.perms=o),clearable:"",placeholder:"请输入权限标识"},null,8,["modelValue"])]),_:1})]),_:1})):d("",!0),e.value.type===2?(s(),m(u(r),{key:6,value:12,xs:24,sm:24},{default:a(()=>[l(n,{label:"链接地址："},{default:a(()=>[l(i,{modelValue:e.value.frameSrc,"onUpdate:modelValue":t[10]||(t[10]=o=>e.value.frameSrc=o),clearable:"",placeholder:"如：https://github.com"},null,8,["modelValue"])]),_:1})]),_:1})):d("",!0),e.value.type===2?(s(),m(u(r),{key:7,value:12,xs:24,sm:24},{default:a(()=>[l(n,{label:"加载动画："},{default:a(()=>[l(u(v),{modelValue:e.value.frameLoading,options:u(P),onChange:t[11]||(t[11]=({option:{value:o}})=>{e.value.frameLoading=Number(o)})},null,8,["modelValue","options"])]),_:1})]),_:1})):d("",!0),l(u(r),{value:12,xs:24,sm:24},{default:a(()=>[l(n,{label:"显示状态："},{default:a(()=>[l(u(v),{modelValue:e.value.visible,options:u(L),onChange:t[12]||(t[12]=({option:{value:o}})=>{e.value.visible=Number(o)})},null,8,["modelValue","options"])]),_:1})]),_:1}),e.value.type===1?(s(),m(u(r),{key:8,value:12,xs:24,sm:24},{default:a(()=>[l(n,{label:"缓存页面："},{default:a(()=>[l(u(v),{modelValue:e.value.cacheFlag,options:u(B),onChange:t[13]||(t[13]=({option:{value:o}})=>{e.value.cacheFlag=Number(o)})},null,8,["modelValue","options"])]),_:1})]),_:1})):d("",!0)]),_:1})]),_:1},8,["model","rules"])}}});export{E as _,N as m};
