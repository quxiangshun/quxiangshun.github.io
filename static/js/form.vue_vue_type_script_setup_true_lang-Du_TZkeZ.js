import{P as E,d as K,n as i,r as a,i as r,o as u,j as t,e as o,A as S,g as d,bj as y,c as g,F as k,t as O,f as T,h as R,y as A,aW as D,G}from"./index-vTRDVSJy.js";import{R as L}from"./index-CeG7CI6B.js";const P=E({title:[{required:!0,message:"合集名称为必填项",trigger:"blur"}]}),W=[{label:"非必填",value:0},{label:"必填",value:1}],$={class:"gap-2"},Q=K({__name:"form",props:{formInline:{default:()=>({selectOptions:[],type:1,name:"",sortOrder:1,isRequired:0,value:[]})}},setup(w,{expose:x}){const C=w,_=i(),e=i(C.formInline),s=i(""),f=i(!1),v=i(),I=V=>{e.value.selectOptions.splice(e.value.selectOptions.indexOf(V),1)},q=()=>{f.value=!0,G(()=>{v.value.input.focus()})},b=()=>{s.value&&e.value.selectOptions.indexOf(s.value)==-1&&e.value.selectOptions.push(s.value),f.value=!1,s.value=""};function B(){return _.value}return x({getRef:B}),(V,n)=>{const m=a("el-form-item"),p=a("el-col"),F=a("el-option"),N=a("el-select"),c=a("el-row"),U=a("el-input-number"),h=a("el-tag"),j=a("el-button"),z=a("el-form");return u(),r(z,{ref_key:"ruleFormRef",ref:_,model:e.value,rules:d(P),"label-width":"100px"},{default:t(()=>[o(c,null,{default:t(()=>[o(p,{span:12},{default:t(()=>[o(m,{label:"字段名称：",prop:"name"},{default:t(()=>[o(d(y),{modelValue:e.value.name,"onUpdate:modelValue":n[0]||(n[0]=l=>e.value.name=l),clearable:"",placeholder:"请输入字段名称"},null,8,["modelValue"])]),_:1})]),_:1}),o(p,{span:12},{default:t(()=>[o(m,{label:"字段类型："},{default:t(()=>[o(N,{modelValue:e.value.type,"onUpdate:modelValue":n[1]||(n[1]=l=>e.value.type=l)},{default:t(()=>[(u(!0),g(k,null,O(e.value.types,l=>(u(),r(F,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(c,null,{default:t(()=>[o(p,{span:12},{default:t(()=>[o(m,{label:"字段排序："},{default:t(()=>[o(U,{modelValue:e.value.sortOrder,"onUpdate:modelValue":n[2]||(n[2]=l=>e.value.sortOrder=l),class:"!w-full",min:1,max:9999,"controls-position":"right"},null,8,["modelValue"])]),_:1})]),_:1}),o(p,{span:12},{default:t(()=>[o(m,{label:"显示状态："},{default:t(()=>[o(d(L),{modelValue:e.value.isRequired,options:d(W),onChange:n[3]||(n[3]=({option:{value:l}})=>{e.value.isRequired=Number(l)})},null,8,["modelValue","options"])]),_:1})]),_:1})]),_:1}),e.value.type==1||e.value.type==2?(u(),r(c,{key:0},{default:t(()=>[o(p,null,{default:t(()=>[T("div",$,[(u(!0),g(k,null,O(e.value.selectOptions,l=>(u(),r(h,{key:l,closable:"","disable-transitions":!1,onClose:H=>I(l)},{default:t(()=>[R(A(l),1)]),_:2},1032,["onClose"]))),128)),f.value?(u(),r(d(y),{key:0,ref_key:"InputRef",ref:v,modelValue:s.value,"onUpdate:modelValue":n[4]||(n[4]=l=>s.value=l),class:"w-20",size:"small",onKeyup:D(b,["enter"]),onBlur:b},null,8,["modelValue"])):(u(),r(j,{key:1,class:"button-new-tag",size:"small",onClick:q},{default:t(()=>[R(" + 添加下拉选项 ")]),_:1}))])]),_:1})]),_:1})):S("",!0)]),_:1},8,["model","rules"])}}});export{Q as _};
