import{c as i,o as s,f as t,d as D,n as l,q as F,D as L,ai as P,r as T,b as h,i as w,j,w as n,y as M,C as B,e as S,g as p,bg as V}from"./index-z501862F.js";import{u as E}from"./wavesurfer.esm-NfJRlQIF.js";const R={xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",class:"icon",viewBox:"0 0 1024 1024"},N=t("path",{fill:"#409eff",d:"M512 0C229.227 0 0 229.227 0 512s229.227 512 512 512 512-229.227 512-512S794.773 0 512 0m-33.023 704.742c0 34.191-25.028 62.18-55.617 62.18s-55.618-27.975-55.618-62.18V319.258c0-34.19 25.028-62.18 55.618-62.18s55.617 27.975 55.617 62.18zm170.328 0c0 34.191-25.027 62.18-55.617 62.18s-55.617-27.975-55.617-62.18V319.258c0-34.19 25.027-62.18 55.617-62.18s55.617 27.975 55.617 62.18z"},null,-1),U=[N];function W(u,c){return s(),i("svg",R,[...U])}const q={render:W},A={xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",class:"icon",viewBox:"0 0 1024 1024"},G=t("path",{fill:"#f56c6c",d:"M512 42.667C252.793 42.667 42.667 252.793 42.667 512S252.793 981.333 512 981.333 981.333 771.207 981.333 512 771.207 42.667 512 42.667M708.547 543.16l-266.667 176A37.333 37.333 0 0 1 384 688V336.033a37.333 37.333 0 0 1 57.893-31.16l266.667 176a37.333 37.333 0 0 1 0 62.32z"},null,-1),H=[G];function I(u,c){return s(),i("svg",A,[...H])}const J={render:I},K={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",class:"icon",viewBox:"0 0 1024 1024"},O=t("path",{fill:"#409EFF",d:"M515.5 91.5C747.4 91.5 936 280.1 936 512S747.4 932.5 515.5 932.5 95 743.9 95 512 283.6 91.5 515.5 91.5m0-87C235.2 4.5 8 231.7 8 512s227.2 507.5 507.5 507.5S1023 792.3 1023 512 795.8 4.5 515.5 4.5"},null,-1),Q=t("path",{fill:"#81888f",d:"m337.7 450.8 84.1 61.2-84.1 61.2zm-28.8-115c-30.1 0-58.2 23.8-58.2 58.1v236.2c0 34.3 28.1 58.1 58.2 58.1 11.5 0 23.3-3.5 33.9-11.2l162.4-118.1c31.9-23.2 31.9-70.7 0-93.8L342.8 347c-10.6-7.7-22.4-11.2-33.9-11.2"},null,-1),X=t("path",{fill:"#81888f",d:"m529.1 450.8 84.1 61.2-84.1 61.2zm-28.8-115c-30.1 0-58.2 23.8-58.2 58.1v236.2c0 34.3 28.1 58.1 58.2 58.1 11.5 0 23.3-3.5 33.9-11.2l162.4-118.1c31.9-23.2 31.9-70.7 0-93.8L534.2 347c-10.6-7.7-22.4-11.2-33.9-11.2"},null,-1),Y=t("path",{fill:"#81888f",d:"M736.8 367c-24 0-43.5 19.5-43.5 43.5v203c0 24 19.5 43.5 43.5 43.5s43.5-19.5 43.5-43.5v-203c0-24-19.5-43.5-43.5-43.5"},null,-1),Z=[O,Q,X,Y];function e1(u,c){return s(),i("svg",K,[...Z])}const t1={render:e1},s1={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",class:"icon",viewBox:"0 0 1024 1024"},o1=t("path",{fill:"#409EFF",d:"M512 90.3c231.9 0 420.5 188.6 420.5 420.5S743.9 931.3 512 931.3 91.5 742.7 91.5 510.8 280.1 90.3 512 90.3m0-87C231.7 3.3 4.5 230.5 4.5 510.8s227.2 507.5 507.5 507.5 507.5-227.2 507.5-507.5S792.3 3.3 512 3.3"},null,-1),n1=t("path",{fill:"#81888f",d:"M689.8 449.7V572l-84.1-61.2zm28.8-115.1c-11.5 0-23.3 3.5-33.9 11.2L522.3 463.9c-31.9 23.2-31.9 70.6 0 93.8l162.4 118.1c10.6 7.7 22.4 11.2 33.9 11.2 30.1 0 58.2-23.8 58.2-58.1V392.7c0-34.3-28.1-58.1-58.2-58.1"},null,-1),l1=t("path",{fill:"#81888f",d:"M498.4 449.7V572l-84.1-61.2zm28.8-115.1c-11.5 0-23.3 3.5-33.9 11.2L330.9 463.9c-31.9 23.2-31.9 70.6 0 93.8l162.4 118.1c10.6 7.7 22.4 11.2 33.9 11.2 30.1 0 58.2-23.8 58.2-58.1V392.7c0-34.3-28.1-58.1-58.2-58.1"},null,-1),c1=t("path",{fill:"#81888f",d:"M290.7 365.8c-24 0-43.5 19.5-43.5 43.5v203c0 24 19.5 43.5 43.5 43.5s43.5-19.5 43.5-43.5v-203c0-24-19.5-43.5-43.5-43.5"},null,-1),a1=[o1,n1,l1,c1];function r1(u,c){return s(),i("svg",s1,[...a1])}const i1={render:r1},u1={class:"w-8/12 !m-auto !mt-[20px]","element-loading-background":"transparent"},d1={class:"flex justify-between"},_1=t("span",{class:"text-[#81888f]"},"00:00",-1),v1={class:"text-4xl mt-2"},h1={class:"text-[#81888f]"},p1={class:"flex mt-2 w-[180px] justify-around m-auto"},w1=D({name:"Wavesurfer",__name:"index",props:{url:{}},setup(u){const c=u,f=l(!0),e=l(null),g=l(),_=l(),$=l(),x=l(),v=l(!1);function y(){e.value=E.create({container:g.value,height:"40",waveColor:"rgb(200, 0, 200)",progressColor:"rgb(100, 0, 100)",cursorColor:"rgb(64, 158, 255)",cursorWidth:4,url:c.url}),e.value.on("decode",()=>f.value=!1),e.value.on("ready",()=>{if(!e.value)return;const{decodedData:o}=e.value;$.value=o.duration;const{m:a,s:d}=V(o.duration);_.value=`${a}:${d}`,e.value.setTime(o.duration/2)}),e.value.on("timeupdate",o=>{if(o>$.value)return;const{m:a,s:d}=V(o);x.value=`${a}:${d}`}),e.value.on("play",()=>v.value=!0),e.value.on("pause",()=>v.value=!1)}return F(y),L(()=>c.url,o=>{e.value&&e.value.destroy(),f.value=!0,y()}),P(()=>{e.value&&(e.value.destroy(),e.value=null)}),(o,a)=>{const d=T("el-card"),m=h("tippy"),C=h("longpress"),b=h("motion-pop"),z=h("loading");return s(),w(d,{shadow:"never"},{default:j(()=>[n((s(),i("div",u1,[t("div",{ref_key:"wavesurferRef",ref:g},null,512),n(t("div",d1,[_1,t("h1",v1,M(x.value),1),t("span",h1,M(_.value),1)],512),[[B,_.value]]),n(t("div",p1,[n(S(p(i1),{class:"cursor-pointer"},null,512),[[m,{content:"快退（可长按）",placement:"bottom"}],[C,()=>{var r;return(r=e.value)==null?void 0:r.skip(-1)},"0:100"]]),n((s(),i("div",{class:"cursor-pointer",onClick:a[0]||(a[0]=r=>{var k;return(k=e.value)==null?void 0:k.playPause()})},[v.value?n((s(),w(p(q),{key:0},null,512)),[[b]]):n((s(),w(p(J),{key:1},null,512)),[[b]])])),[[m,{content:v.value?"暂停":"播放",placement:"bottom"}]]),n(S(p(t1),{class:"cursor-pointer"},null,512),[[m,{content:"快进（可长按）",placement:"bottom"}],[C,()=>{var r;return(r=e.value)==null?void 0:r.skip(1)},"0:100"]])],512),[[B,_.value]])])),[[z,f.value]])]),_:1})}}});export{w1 as _};
