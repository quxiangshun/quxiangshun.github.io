var n=(t,s,i)=>new Promise((l,d)=>{var D=e=>{try{r(i.next(e))}catch(a){d(a)}},h=e=>{try{r(i.throw(e))}catch(a){d(a)}},r=e=>e.done?l(e.value):Promise.resolve(e.value).then(D,h);r((i=i.apply(t,s)).next())});import{l as m,s as f,b8 as c}from"./index-vTRDVSJy.js";import{g as u}from"./dict-rWWMm-MP.js";const o="halcyon-dict",L=m({id:"halcyon-dict",state:()=>({dictList:c().getItem(o)}),actions:{fetchAllDictsFromServer(){return n(this,null,function*(){try{const s=(yield u()).data;this.setDictList(s)}catch(t){console.error("字典数据获取失败:",t)}})},loadDicts(){return n(this,null,function*(){const t=c().getItem(o);t?this.dictList=t:yield this.fetchAllDictsFromServer()})},getDictByCode(t){const s=this.dictList.find(i=>i.dictCode===t);return s?s.dictValue:void 0},setDictList(t){this.dictList=t,c().setItem(o,t)},clearDict(){this.dictList=[],c().removeItem(o)}}});function A(){return L(f)}export{A as u};
