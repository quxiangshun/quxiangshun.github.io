import{d as U,n as C,r as t,c as h,o as u,e as a,f as L,j as n,aW as j,g as e,F as E,t as M,i as W,h as s,a3 as b,U as k,_ as q}from"./index-z501862F.js";import{useDwOrder as A}from"./hook-D1UK6CWU.js";import{P as G}from"./index-DV3edBX0.js";import{u as d}from"./hooks-BuEsGYNv.js";import{d as H}from"./delete-Ce0TSdK5.js";import{d as J}from"./edit-pen-Ci7W0xNM.js";import{d as Q}from"./refresh-C_2cW1e5.js";import{d as X}from"./add-circle-line-DOJqVT3s.js";import"./form.vue_vue_type_script_setup_true_lang-BzF8VvQk.js";import"./index-C27yIgHt.js";import"./list-B0utyLxr.js";import"./sortable.esm-BY9aeJ8_.js";import"./epTheme-B7g_PWz4.js";const Y={class:"main"},Z=U({name:"DwOrder",__name:"index",setup(ee){const f=C(),v=C(),{deviceManagers:y,form:r,isShow:w,loading:_,columns:x,dataList:S,pagination:V,onSearch:c,resetForm:R,openDialog:g,handleDelete:$,handleSizeChange:B,handleCurrentChange:P,handleSelectionChange:z}=A();return(oe,l)=>{const I=t("el-input"),m=t("el-form-item"),D=t("el-option"),F=t("el-select"),i=t("el-button"),K=t("el-form"),N=t("pure-table");return u(),h("div",Y,[a(K,{ref_key:"formRef",ref:f,inline:!0,model:e(r),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px] overflow-auto"},{default:n(()=>[a(m,{label:"线路名称：",prop:"name"},{default:n(()=>[a(I,{modelValue:e(r).name,"onUpdate:modelValue":l[0]||(l[0]=o=>e(r).name=o),placeholder:"请输入线路名称",clearable:"",class:"!w-[180px]",onKeyup:j(e(c),["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),a(m,{label:"责任人：",prop:"managerId"},{default:n(()=>[a(F,{modelValue:e(r).managerId,"onUpdate:modelValue":l[1]||(l[1]=o=>e(r).managerId=o),placeholder:"请选择责任人",clearable:"",class:"!w-[180px]",onChange:e(c)},{default:n(()=>[(u(!0),h(E,null,M(e(y),o=>(u(),W(D,{key:o.id,label:o.nickname,value:o.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1}),a(m,null,{default:n(()=>[a(i,{type:"primary",icon:e(d)("ri:search-line"),loading:e(_),onClick:e(c)},{default:n(()=>[s(" 搜索 ")]),_:1},8,["icon","loading","onClick"]),a(i,{icon:e(d)(e(Q)),onClick:l[2]||(l[2]=o=>e(R)(f.value))},{default:n(()=>[s(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),L("div",{ref:"contentRef",class:b(["flex",e(k)()?"flex-wrap":""])},[a(e(G),{class:b([e(w)&&!e(k)()?"!w-[60vw]":"w-full"]),style:{transition:"width 220ms cubic-bezier(0.4, 0, 0.2, 1)"},title:"列表",columns:e(x),onRefresh:e(c)},{buttons:n(()=>[a(i,{type:"primary",icon:e(d)(e(X)),onClick:l[3]||(l[3]=o=>e(g)())},{default:n(()=>[s(" 新增 ")]),_:1},8,["icon"])]),default:n(({size:o,dynamicColumns:O})=>[a(N,{ref_key:"tableRef",ref:v,"row-key":"id","align-whole":"center",showOverflowTooltip:"","table-layout":"auto",loading:e(_),size:o,adaptive:"",adaptiveConfig:{offsetBottom:108},data:e(S),columns:O,pagination:e(V),paginationSmall:o==="small","header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:e(z),onPageSizeChange:e(B),onPageCurrentChange:e(P)},{operation:n(({row:p})=>[a(i,{class:"reset-margin",link:"",type:"primary",size:o,icon:e(d)(e(J)),onClick:T=>e(g)("修改",p)},{default:n(()=>[s(" 修改 ")]),_:2},1032,["size","icon","onClick"]),a(i,{disabled:p.userCount>0,class:"reset-margin",link:"",type:"danger",size:o,icon:e(d)(e(H)),onClick:T=>e($)(p)},{default:n(()=>[s(" 删除 ")]),_:2},1032,["disabled","size","icon","onClick"])]),_:2},1032,["loading","size","data","columns","pagination","paginationSmall","header-cell-style","onSelectionChange","onPageSizeChange","onPageCurrentChange"])]),_:1},8,["class","columns","onRefresh"])],2)])}}}),_e=q(Z,[["__scopeId","data-v-e4519844"]]);export{_e as default};
