import{_ as t,o as r,c as o,ag as s}from"./chunks/framework.BT_aBzO2.js";const p=JSON.parse('{"title":"Prometheus Metrics","description":"NetBox Prometheus 指标","frontmatter":{"title":"Prometheus Metrics","description":"NetBox Prometheus 指标"},"headers":[],"relativePath":"tech-share/netbox/4.5.1/community/integrations/prometheus-metrics.md","filePath":"tech-share/netbox/4.5.1/community/integrations/prometheus-metrics.md"}'),a={name:"tech-share/netbox/4.5.1/community/integrations/prometheus-metrics.md"};function i(c,e,m,n,h,u){return r(),o("div",null,[...e[0]||(e[0]=[s('<h1 id="prometheus-metrics-prometheus-指标" tabindex="-1">Prometheus Metrics / Prometheus 指标 <a class="header-anchor" href="#prometheus-metrics-prometheus-指标" aria-label="Permalink to &quot;Prometheus Metrics / Prometheus 指标&quot;">​</a></h1><p><em>内容来源 / Source: <a href="https://netboxlabs.com/docs/netbox/integrations/prometheus-metrics/" target="_blank" rel="noreferrer">NetBox Labs Documentation</a> | 如有侵权请<a href="/contact.html">联系我们</a>删除</em></p><p>NetBox 可选暴露 Prometheus 指标，通过 <code>METRICS_ENABLED</code> 配置。默认不暴露。指标端点：<code>/metrics</code>。</p><h2 id="metric-types-指标类型" tabindex="-1">Metric Types / 指标类型 <a class="header-anchor" href="#metric-types-指标类型" aria-label="Permalink to &quot;Metric Types / 指标类型&quot;">​</a></h2><p>基于 <a href="https://github.com/korfuri/django-prometheus" target="_blank" rel="noreferrer">django-prometheus</a>，包括：</p><ul><li>REST API 请求（按端点和方法）</li><li>GraphQL API 请求</li><li>数据库连接、执行、错误计数</li><li>缓存命中/未命中/失效计数</li><li>响应码计数</li><li>请求延迟直方图</li></ul><h2 id="multi-process-notes-多进程说明" tabindex="-1">Multi-Process Notes / 多进程说明 <a class="header-anchor" href="#multi-process-notes-多进程说明" aria-label="Permalink to &quot;Multi-Process Notes / 多进程说明&quot;">​</a></h2><p>多进程部署（如多个 Gunicorn worker）时，需配置 <code>prometheus_multiproc_dir</code> 环境变量指向共享目录以聚合各 worker 的指标。多进程环境下建议使用 uWSGI 而非 Gunicorn 以获得更准确的长期指标。</p>',8)])])}const d=t(a,[["render",i]]);export{p as __pageData,d as default};
