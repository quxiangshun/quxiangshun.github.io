import{_ as s,o as i,c as e,ag as t}from"./chunks/framework.DEqXEGcv.js";const k=JSON.parse('{"title":"Removing a Plugin 移除插件","description":"NetBox 插件移除指南","frontmatter":{"title":"Removing a Plugin 移除插件","description":"NetBox 插件移除指南"},"headers":[],"relativePath":"tech-share/netbox/4.5.1/community/plugins/removal.md","filePath":"tech-share/netbox/4.5.1/community/plugins/removal.md"}'),n={name:"tech-share/netbox/4.5.1/community/plugins/removal.md"};function l(h,a,o,p,r,d){return i(),e("div",null,[...a[0]||(a[0]=[t(`<h1 id="removing-a-plugin-移除插件" tabindex="-1">Removing a Plugin / 移除插件 <a class="header-anchor" href="#removing-a-plugin-移除插件" aria-label="Permalink to &quot;Removing a Plugin / 移除插件&quot;">​</a></h1><p><em>内容来源 / Source: <a href="https://netboxlabs.com/docs/netbox/plugins/removal/" target="_blank" rel="noreferrer">NetBox Labs Documentation</a> | 如有侵权请<a href="/contact.html">联系我们</a>删除</em></p><div class="warning custom-block"><p class="custom-block-title">注意</p><p>每个插件可能有额外步骤，移除前请查阅该插件的文档。</p></div><h2 id="_1-disable-the-plugin-禁用插件" tabindex="-1">1. Disable the Plugin / 禁用插件 <a class="header-anchor" href="#_1-disable-the-plugin-禁用插件" aria-label="Permalink to &quot;1. Disable the Plugin / 禁用插件&quot;">​</a></h2><p>从 <code>configuration.py</code> 的 <code>PLUGINS</code> 列表中移除该插件。</p><h2 id="_2-remove-configuration-移除配置" tabindex="-1">2. Remove Configuration / 移除配置 <a class="header-anchor" href="#_2-remove-configuration-移除配置" aria-label="Permalink to &quot;2. Remove Configuration / 移除配置&quot;">​</a></h2><p>删除 <code>PLUGINS_CONFIG</code> 中该插件的配置项。</p><h2 id="_3-re-index-search-重建搜索索引" tabindex="-1">3. Re-index Search / 重建搜索索引 <a class="header-anchor" href="#_3-re-index-search-重建搜索索引" aria-label="Permalink to &quot;3. Re-index Search / 重建搜索索引&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /opt/netbox/netbox</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /opt/netbox/venv/bin/activate</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> manage.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> reindex</span></span></code></pre></div><h2 id="_4-uninstall-python-package-卸载-python-包" tabindex="-1">4. Uninstall Python Package / 卸载 Python 包 <a class="header-anchor" href="#_4-uninstall-python-package-卸载-python-包" aria-label="Permalink to &quot;4. Uninstall Python Package / 卸载 Python 包&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uninstall</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">packag</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><h2 id="_5-restart-wsgi-重启-wsgi" tabindex="-1">5. Restart WSGI / 重启 WSGI <a class="header-anchor" href="#_5-restart-wsgi-重启-wsgi" aria-label="Permalink to &quot;5. Restart WSGI / 重启 WSGI&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> netbox</span></span></code></pre></div><h2 id="_6-drop-database-tables-删除数据库表" tabindex="-1">6. Drop Database Tables / 删除数据库表 <a class="header-anchor" href="#_6-drop-database-tables-删除数据库表" aria-label="Permalink to &quot;6. Drop Database Tables / 删除数据库表&quot;">​</a></h2><p>仅对创建了数据库表的插件需要。进入 <code>dbshell</code> 查看表：</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\\dt pluginname_</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DROP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pluginname_foo;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DROP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pluginname_bar;</span></span></code></pre></div><h2 id="_7-remove-migration-records-移除迁移记录" tabindex="-1">7. Remove Migration Records / 移除迁移记录 <a class="header-anchor" href="#_7-remove-migration-records-移除迁移记录" aria-label="Permalink to &quot;7. Remove Migration Records / 移除迁移记录&quot;">​</a></h2><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DELETE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> django_migrations </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> app</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;pluginname&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><h2 id="_8-clean-up-content-types-清理-content-types" tabindex="-1">8. Clean Up Content Types / 清理 Content Types <a class="header-anchor" href="#_8-clean-up-content-types-清理-content-types" aria-label="Permalink to &quot;8. Clean Up Content Types / 清理 Content Types&quot;">​</a></h2><p>使用 Django shell 移除残留的 ContentType 和 Permission 条目。详见 <a href="https://netboxlabs.com/docs/netbox/plugins/removal/" target="_blank" rel="noreferrer">NetBox Labs 文档</a>。</p>`,20)])])}const g=s(n,[["render",l]]);export{k as __pageData,g as default};
