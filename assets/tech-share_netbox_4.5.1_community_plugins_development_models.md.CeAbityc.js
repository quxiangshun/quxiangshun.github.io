import{_ as a,o as i,c as e,ag as t}from"./chunks/framework.DEqXEGcv.js";const c=JSON.parse('{"title":"Database Models 数据库模型","description":"NetBox 插件模型开发","frontmatter":{"title":"Database Models 数据库模型","description":"NetBox 插件模型开发"},"headers":[],"relativePath":"tech-share/netbox/4.5.1/community/plugins/development/models.md","filePath":"tech-share/netbox/4.5.1/community/plugins/development/models.md"}'),n={name:"tech-share/netbox/4.5.1/community/plugins/development/models.md"};function l(o,s,h,d,p,r){return i(),e("div",null,[...s[0]||(s[0]=[t(`<h1 id="database-models-数据库模型" tabindex="-1">Database Models / 数据库模型 <a class="header-anchor" href="#database-models-数据库模型" aria-label="Permalink to &quot;Database Models / 数据库模型&quot;">​</a></h1><p><em>内容来源 / Source: <a href="https://netboxlabs.com/docs/netbox/plugins/development/models/" target="_blank" rel="noreferrer">NetBox Labs Documentation</a> | 如有侵权请<a href="/contact.html">联系我们</a>删除</em></p><h2 id="creating-models-创建模型" tabindex="-1">Creating Models / 创建模型 <a class="header-anchor" href="#creating-models-创建模型" aria-label="Permalink to &quot;Creating Models / 创建模型&quot;">​</a></h2><p>在 <code>models.py</code> 中定义 Django 模型。继承 <code>NetBoxModel</code> 可启用 tags、custom fields、event rules 等特性：</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> netbox.models </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NetBoxModel</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">NetBoxModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    foo </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> models.CharField(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">max_length</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    bar </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> models.CharField(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">max_length</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h2 id="base-classes-基类" tabindex="-1">Base Classes / 基类 <a class="header-anchor" href="#base-classes-基类" aria-label="Permalink to &quot;Base Classes / 基类&quot;">​</a></h2><ul><li><strong>NetBoxModel</strong> - 完整特性</li><li><strong>PrimaryModel</strong> - 含 description、comments、ownership</li><li><strong>OrganizationalModel</strong> - 含 name、slug，用于组织型对象</li><li><strong>NestedGroupModel</strong> - 含 parent，用于层级结构</li></ul><h2 id="feature-mixins-特性混入" tabindex="-1">Feature Mixins / 特性混入 <a class="header-anchor" href="#feature-mixins-特性混入" aria-label="Permalink to &quot;Feature Mixins / 特性混入&quot;">​</a></h2><p>可单独继承：<code>TagsMixin</code>、<code>CustomFieldsMixin</code>、<code>ChangeLoggingMixin</code>、<code>ExportTemplatesMixin</code> 等。</p><h2 id="database-migrations-数据库迁移" tabindex="-1">Database Migrations / 数据库迁移 <a class="header-anchor" href="#database-migrations-数据库迁移" aria-label="Permalink to &quot;Database Migrations / 数据库迁移&quot;">​</a></h2><p>设置 <code>DEVELOPER=True</code> 后运行：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./manage.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> makemigrations</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my_plugin</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./manage.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> migrate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my_plugin</span></span></code></pre></div><h2 id="choice-sets-选项集" tabindex="-1">Choice Sets / 选项集 <a class="header-anchor" href="#choice-sets-选项集" aria-label="Permalink to &quot;Choice Sets / 选项集&quot;">​</a></h2><p>使用 <code>ChoiceSet</code> 定义模型字段的可选值，支持动态配置和颜色。</p>`,14)])])}const g=a(n,[["render",l]]);export{c as __pageData,g as default};
