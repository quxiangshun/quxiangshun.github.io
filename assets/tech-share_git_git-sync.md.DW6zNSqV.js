import{_ as i,o as a,c as t,a2 as n}from"./chunks/framework.C766EroN.js";const g=JSON.parse('{"title":"Git 一键同步代码到 GitHub、Gitee、GitCode 总结文档","description":"","frontmatter":{},"headers":[],"relativePath":"tech-share/git/git-sync.md","filePath":"tech-share/git/git-sync.md"}'),l={name:"tech-share/git/git-sync.md"};function e(h,s,p,o,k,r){return a(),t("div",null,[...s[0]||(s[0]=[n(`<h1 id="git-一键同步代码到-github、gitee、gitcode-总结文档" tabindex="-1">Git 一键同步代码到 GitHub、Gitee、GitCode 总结文档 <a class="header-anchor" href="#git-一键同步代码到-github、gitee、gitcode-总结文档" aria-label="Permalink to &quot;Git 一键同步代码到 GitHub、Gitee、GitCode 总结文档&quot;">​</a></h1><blockquote><p>编辑日期：2026-02-26</p></blockquote><h2 id="背景" tabindex="-1">背景 <a class="header-anchor" href="#背景" aria-label="Permalink to &quot;背景&quot;">​</a></h2><p>在开源项目开发中，为了提高项目的知名度和可访问性，我们通常会将代码同步到多个代码托管平台，如 GitHub、Gitee、GitCode 等。手动同步代码到多个平台不仅繁琐，而且容易出错。因此，本文将介绍如何实现 Git 一键同步代码到多个代码托管平台的方法。</p><h3 id="背景与目标" tabindex="-1">背景与目标 <a class="header-anchor" href="#背景与目标" aria-label="Permalink to &quot;背景与目标&quot;">​</a></h3><p>本地项目需同时同步到 Gitee / GitHub / GitCode 三平台，实现：</p><ol><li>默认从 Gitee 拉取更新（git pull）</li><li>一键命令推送到三个平台（git push-all）</li><li>解决全程遇到的分支、冲突、认证、历史无关等问题</li></ol><h3 id="环境与初始问题" tabindex="-1">环境与初始问题 <a class="header-anchor" href="#环境与初始问题" aria-label="Permalink to &quot;环境与初始问题&quot;">​</a></h3><ul><li>本地分支：main（空分支/无提交）</li><li>远程仓库：三平台均为 ly-docs</li><li>初始报错合集： <ol><li>fatal: couldn&#39;t find remote ref main</li><li>fatal: refusing to merge unrelated histories</li><li>! [rejected] main -&gt; main (fetch first)</li><li>fatal: no commit on branch &#39;main&#39; yet</li><li>HTTP Basic: Access denied（密码登录失效）</li><li>自动合并冲突：CONFLICT (add/add)</li></ol></li></ul><h2 id="核心问题与解决方案清单" tabindex="-1">核心问题与解决方案清单 <a class="header-anchor" href="#核心问题与解决方案清单" aria-label="Permalink to &quot;核心问题与解决方案清单&quot;">​</a></h2><h3 id="_1-远程不存在-main-分支-历史无关" tabindex="-1">1. 远程不存在 main 分支 / 历史无关 <a class="header-anchor" href="#_1-远程不存在-main-分支-历史无关" aria-label="Permalink to &quot;1. 远程不存在 main 分支 / 历史无关&quot;">​</a></h3><p><strong>现象</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>fatal: couldn&#39;t find remote ref main</span></span>
<span class="line"><span>fatal: refusing to merge unrelated histories</span></span></code></pre></div><p><strong>原因</strong></p><p>本地与远程是两个独立仓库，无共同提交历史。</p><p><strong>解决</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --allow-unrelated-histories</span></span></code></pre></div><p>冲突文件手动解决后：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;merge: 解决无关历史合并冲突&quot;</span></span></code></pre></div><h3 id="_2-本地分支为空-无法设置跟踪" tabindex="-1">2. 本地分支为空，无法设置跟踪 <a class="header-anchor" href="#_2-本地分支为空-无法设置跟踪" aria-label="Permalink to &quot;2. 本地分支为空，无法设置跟踪&quot;">​</a></h3><p><strong>现象</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>fatal: no commit on branch &#39;main&#39; yet</span></span></code></pre></div><p><strong>原因</strong></p><p>空分支不能绑定上游远程分支。</p><p><strong>解决</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --allow-empty</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;init: 初始化空分支&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --set-upstream-to=origin/main</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span></span></code></pre></div><h3 id="_3-推送被拒-non-fast-forward" tabindex="-1">3. 推送被拒：non-fast-forward <a class="header-anchor" href="#_3-推送被拒-non-fast-forward" aria-label="Permalink to &quot;3. 推送被拒：non-fast-forward&quot;">​</a></h3><p><strong>现象</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>! [rejected] main -&gt; main (non-fast-forward)</span></span></code></pre></div><p><strong>原因</strong></p><p>本地分支落后远程，必须先拉取合并。</p><p><strong>解决</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 有冲突则解决后提交</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push-all</span></span></code></pre></div><h3 id="_4-认证失败-密码登录已废弃" tabindex="-1">4. 认证失败：密码登录已废弃 <a class="header-anchor" href="#_4-认证失败-密码登录已废弃" aria-label="Permalink to &quot;4. 认证失败：密码登录已废弃&quot;">​</a></h3><p><strong>现象</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>remote: HTTP Basic: Access denied.</span></span></code></pre></div><p><strong>原因</strong></p><p>GitHub/Gitee/GitCode 均禁用密码，必须用 Token。</p><p><strong>解决</strong></p><p>各平台生成 Token 后，替换远程地址：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Gitee</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set-url</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">https://用户名:Token@gitee.com/用户名/ly-docs.git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># GitHub</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set-url</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">https://用户名:Token@github.com/用户名/ly-docs.git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># GitCode</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set-url</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gitcode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">https://用户名:Token@gitcode.com/用户名/ly-docs.git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span></span></code></pre></div><h3 id="_5-文件冲突-add-add-冲突" tabindex="-1">5. 文件冲突：add/add 冲突 <a class="header-anchor" href="#_5-文件冲突-add-add-冲突" aria-label="Permalink to &quot;5. 文件冲突：add/add 冲突&quot;">​</a></h3><p><strong>现象</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Auto-merging README.md</span></span>
<span class="line"><span>CONFLICT (add/add): Merge conflict in README.md</span></span></code></pre></div><p><strong>原因</strong></p><p>本地与远程同时新增同名文件，内容不同。</p><p><strong>解决</strong></p><ol><li>打开文件删除 <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</code> / <code>=======</code> / <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt; origin/main</code></li><li>保留需要的内容</li><li>标记解决并提交</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> README.md</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .gitignore</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;fix: 解决add/add冲突&quot;</span></span></code></pre></div><h2 id="实现原理" tabindex="-1">实现原理 <a class="header-anchor" href="#实现原理" aria-label="Permalink to &quot;实现原理&quot;">​</a></h2><p>Git 支持多个远程仓库，我们可以通过配置多个远程仓库地址，然后使用脚本来批量推送代码到这些仓库。具体原理如下：</p><ol><li>为本地仓库添加多个远程仓库地址</li><li>创建一个同步脚本，用于批量推送代码到所有远程仓库</li><li>执行脚本，实现一键同步</li></ol><h2 id="配置步骤" tabindex="-1">配置步骤 <a class="header-anchor" href="#配置步骤" aria-label="Permalink to &quot;配置步骤&quot;">​</a></h2><h3 id="_1-准备工作" tabindex="-1">1. 准备工作 <a class="header-anchor" href="#_1-准备工作" aria-label="Permalink to &quot;1. 准备工作&quot;">​</a></h3><ul><li>确保本地已安装 Git</li><li>在各个代码托管平台（GitHub、Gitee、GitCode）上创建同名仓库</li><li>确保本地仓库已初始化并配置好用户信息</li></ul><h3 id="_2-配置多个远程仓库" tabindex="-1">2. 配置多个远程仓库 <a class="header-anchor" href="#_2-配置多个远程仓库" aria-label="Permalink to &quot;2. 配置多个远程仓库&quot;">​</a></h3><h4 id="方法一-使用-git-remote-命令添加" tabindex="-1">方法一：使用 git remote 命令添加 <a class="header-anchor" href="#方法一-使用-git-remote-命令添加" aria-label="Permalink to &quot;方法一：使用 git remote 命令添加&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看当前远程仓库</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 添加 GitHub 远程仓库</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/your-username/your-repo.git</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 添加 Gitee 远程仓库</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gitee</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://gitee.com/your-username/your-repo.git</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 添加 GitCode 远程仓库</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gitcode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://gitcode.com/your-username/your-repo.git</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看配置结果</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span></span></code></pre></div><h4 id="方法二-直接编辑-git-config-文件" tabindex="-1">方法二：直接编辑 .git/config 文件 <a class="header-anchor" href="#方法二-直接编辑-git-config-文件" aria-label="Permalink to &quot;方法二：直接编辑 .git/config 文件&quot;">​</a></h4><p>打开本地仓库中的 <code>.git/config</code> 文件，添加以下内容：</p><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[remote &quot;github&quot;]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = https://github.com/your-username/your-repo.git</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = +refs/heads/*:refs/remotes/github/*</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[remote &quot;gitee&quot;]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = https://gitee.com/your-username/your-repo.git</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = +refs/heads/*:refs/remotes/gitee/*</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[remote &quot;gitcode&quot;]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = https://gitcode.com/your-username/your-repo.git</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = +refs/heads/*:refs/remotes/gitcode/*</span></span></code></pre></div><h3 id="_3-创建同步脚本" tabindex="-1">3. 创建同步脚本 <a class="header-anchor" href="#_3-创建同步脚本" aria-label="Permalink to &quot;3. 创建同步脚本&quot;">​</a></h3><h4 id="windows-平台-sync-bat" tabindex="-1">Windows 平台（sync.bat） <a class="header-anchor" href="#windows-平台-sync-bat" aria-label="Permalink to &quot;Windows 平台（sync.bat）&quot;">​</a></h4><div class="language-batch vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">batch</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@echo</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> off</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 开始同步代码到多个平台...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 同步到 GitHub...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">git push github --all</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">git push github --tags</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 同步到 Gitee...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">git push gitee --all</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">git push gitee --tags</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 同步到 GitCode...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">git push gitcode --all</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">git push gitcode --tags</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 同步完成！</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">pause</span></span></code></pre></div><h4 id="linux-mac-平台-sync-sh" tabindex="-1">Linux/Mac 平台（sync.sh） <a class="header-anchor" href="#linux-mac-平台-sync-sh" aria-label="Permalink to &quot;Linux/Mac 平台（sync.sh）&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;开始同步代码到多个平台...&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;同步到 GitHub...&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --all</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --tags</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;同步到 Gitee...&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gitee</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --all</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gitee</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --tags</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;同步到 GitCode...&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gitcode</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --all</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gitcode</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --tags</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;同步完成！&quot;</span></span></code></pre></div><h3 id="_4-配置脚本权限-仅-linux-mac-平台" tabindex="-1">4. 配置脚本权限（仅 Linux/Mac 平台） <a class="header-anchor" href="#_4-配置脚本权限-仅-linux-mac-平台" aria-label="Permalink to &quot;4. 配置脚本权限（仅 Linux/Mac 平台）&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sync.sh</span></span></code></pre></div><h2 id="使用方法" tabindex="-1">使用方法 <a class="header-anchor" href="#使用方法" aria-label="Permalink to &quot;使用方法&quot;">​</a></h2><ol><li>在本地仓库中进行代码修改和提交</li><li>执行同步脚本： <ul><li>Windows：双击 <code>sync.bat</code> 文件</li><li>Linux/Mac：在终端中执行 <code>./sync.sh</code></li></ul></li><li>脚本会自动将代码同步到所有配置的远程仓库</li></ol><h2 id="高级配置" tabindex="-1">高级配置 <a class="header-anchor" href="#高级配置" aria-label="Permalink to &quot;高级配置&quot;">​</a></h2><h3 id="_1-使用-ssh-连接" tabindex="-1">1. 使用 SSH 连接 <a class="header-anchor" href="#_1-使用-ssh-连接" aria-label="Permalink to &quot;1. 使用 SSH 连接&quot;">​</a></h3><p>为了避免每次推送都需要输入密码，建议使用 SSH 连接远程仓库。具体步骤如下：</p><ol><li>生成 SSH 密钥对：</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-keygen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rsa</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -b</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4096</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;your-email@example.com&quot;</span></span></code></pre></div><ol start="2"><li><p>将公钥添加到各个代码托管平台：</p><ul><li>GitHub：Settings → SSH and GPG keys → New SSH key</li><li>Gitee：设置 → SSH 公钥 → 添加公钥</li><li>GitCode：设置 → SSH 密钥 → 添加密钥</li></ul></li><li><p>修改远程仓库地址为 SSH 格式：</p></li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 修改 GitHub 远程仓库地址</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set-url</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git@github.com:your-username/your-repo.git</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 修改 Gitee 远程仓库地址</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set-url</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gitee</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git@gitee.com:your-username/your-repo.git</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 修改 GitCode 远程仓库地址</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set-url</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gitcode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git@gitcode.com:your-username/your-repo.git</span></span></code></pre></div><h3 id="_2-配置默认推送行为" tabindex="-1">2. 配置默认推送行为 <a class="header-anchor" href="#_2-配置默认推送行为" aria-label="Permalink to &quot;2. 配置默认推送行为&quot;">​</a></h3><p>可以配置 Git 的默认推送行为，使其默认推送到所有远程仓库：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看当前默认推送行为</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push.default</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 设置默认推送行为为 simple（仅推送当前分支到对应远程分支）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push.default</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> simple</span></span></code></pre></div><h3 id="_3-使用-git-hooks-自动同步" tabindex="-1">3. 使用 Git Hooks 自动同步 <a class="header-anchor" href="#_3-使用-git-hooks-自动同步" aria-label="Permalink to &quot;3. 使用 Git Hooks 自动同步&quot;">​</a></h3><p>可以使用 Git Hooks 在提交代码后自动执行同步脚本：</p><ol><li>进入 <code>.git/hooks</code> 目录</li><li>创建 <code>post-commit</code> 文件：</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 切换到仓库根目录</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rev-parse </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">--show-toplevel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 执行同步脚本</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;sync.sh&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ./sync.sh</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">elif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;sync.bat&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ./sync.bat</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fi</span></span></code></pre></div><ol start="3"><li>配置脚本权限：</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> post-commit</span></span></code></pre></div><h2 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-label="Permalink to &quot;常见问题&quot;">​</a></h2><h3 id="_1-推送失败" tabindex="-1">1. 推送失败 <a class="header-anchor" href="#_1-推送失败" aria-label="Permalink to &quot;1. 推送失败&quot;">​</a></h3><p><strong>可能原因</strong>：</p><ul><li>网络连接问题</li><li>远程仓库地址错误</li><li>权限不足</li></ul><p><strong>解决方案</strong>：</p><ul><li>检查网络连接</li><li>验证远程仓库地址是否正确</li><li>确保已配置正确的 SSH 密钥或用户名密码</li></ul><h3 id="_2-同步速度慢" tabindex="-1">2. 同步速度慢 <a class="header-anchor" href="#_2-同步速度慢" aria-label="Permalink to &quot;2. 同步速度慢&quot;">​</a></h3><p><strong>可能原因</strong>：</p><ul><li>网络延迟</li><li>代码仓库较大</li><li>多个远程仓库同时推送</li></ul><p><strong>解决方案</strong>：</p><ul><li>使用 SSH 连接，提高传输速度</li><li>考虑使用 <code>git push --mirror</code> 命令，仅推送必要的引用</li><li>在脚本中添加适当的延迟，避免同时推送导致的网络拥塞</li></ul><h3 id="_3-分支不同步" tabindex="-1">3. 分支不同步 <a class="header-anchor" href="#_3-分支不同步" aria-label="Permalink to &quot;3. 分支不同步&quot;">​</a></h3><p><strong>可能原因</strong>：</p><ul><li>某些分支仅存在于部分远程仓库</li><li>分支名称不一致</li></ul><p><strong>解决方案</strong>：</p><ul><li>使用 <code>git push --all</code> 命令，确保所有分支都被推送</li><li>统一分支命名规范，避免分支名称不一致</li></ul><h2 id="最终最优配置" tabindex="-1">最终最优配置 <a class="header-anchor" href="#最终最优配置" aria-label="Permalink to &quot;最终最优配置&quot;">​</a></h2><h3 id="_1-远程结构" tabindex="-1">1. 远程结构 <a class="header-anchor" href="#_1-远程结构" aria-label="Permalink to &quot;1. 远程结构&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>origin   → Gitee（默认拉取）</span></span>
<span class="line"><span>github   → GitHub</span></span>
<span class="line"><span>gitcode  → GitCode</span></span></code></pre></div><h3 id="_2-一键推送配置" tabindex="-1">2. 一键推送配置 <a class="header-anchor" href="#_2-一键推送配置" aria-label="Permalink to &quot;2. 一键推送配置&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> alias.push-all</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;!git push origin main &amp;&amp; git push github main &amp;&amp; git push gitcode main&#39;</span></span></code></pre></div><h3 id="_3-日常工作流" tabindex="-1">3. 日常工作流 <a class="header-anchor" href="#_3-日常工作流" aria-label="Permalink to &quot;3. 日常工作流&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 从 Gitee 拉取</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 提交修改</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;feat: 更新内容&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 一键推三平台</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push-all</span></span></code></pre></div><h2 id="关键命令速查表" tabindex="-1">关键命令速查表 <a class="header-anchor" href="#关键命令速查表" aria-label="Permalink to &quot;关键命令速查表&quot;">​</a></h2><table tabindex="0"><thead><tr><th>问题场景</th><th>命令</th></tr></thead><tbody><tr><td>允许合并无关历史</td><td><code>git pull origin main --allow-unrelated-histories</code></td></tr><tr><td>空分支初始化提交</td><td><code>git commit --allow-empty -m &quot;init&quot;</code></td></tr><tr><td>绑定默认上游(Gitee)</td><td><code>git branch --set-upstream-to=origin/main main</code></td></tr><tr><td>一键推送到三平台</td><td><code>git push-all</code></td></tr><tr><td>查看远程地址</td><td><code>git remote -v</code></td></tr><tr><td>查看分支跟踪</td><td><code>git branch -vv</code></td></tr></tbody></table><h2 id="最佳实践" tabindex="-1">最佳实践 <a class="header-anchor" href="#最佳实践" aria-label="Permalink to &quot;最佳实践&quot;">​</a></h2><h3 id="_1-仓库管理" tabindex="-1">1. 仓库管理 <a class="header-anchor" href="#_1-仓库管理" aria-label="Permalink to &quot;1. 仓库管理&quot;">​</a></h3><ul><li>在本地仓库中保持代码的整洁和规范</li><li>定期清理无用分支，减少同步数据量</li><li>使用标签（tags）管理版本，确保版本信息同步到所有平台</li></ul><h3 id="_2-同步策略" tabindex="-1">2. 同步策略 <a class="header-anchor" href="#_2-同步策略" aria-label="Permalink to &quot;2. 同步策略&quot;">​</a></h3><ul><li>对于大型仓库，考虑使用 <code>git push --mirror</code> 命令，提高同步效率</li><li>对于频繁更新的仓库，建议使用 Git Hooks 自动同步</li><li>对于重要的版本发布，建议手动执行同步脚本，确保同步成功</li></ul><h3 id="_3-安全考虑" tabindex="-1">3. 安全考虑 <a class="header-anchor" href="#_3-安全考虑" aria-label="Permalink to &quot;3. 安全考虑&quot;">​</a></h3><ul><li>使用 SSH 连接远程仓库，避免明文传输密码</li><li>定期更新 SSH 密钥，提高安全性</li><li>确保同步脚本的权限设置正确，避免被恶意修改</li></ul><h3 id="_4-避坑总结" tabindex="-1">4. 避坑总结 <a class="header-anchor" href="#_4-避坑总结" aria-label="Permalink to &quot;4. 避坑总结&quot;">​</a></h3><ol><li><strong>永远不要用密码</strong>：三平台均必须用 Token</li><li><strong>分支名统一</strong>：本地/远程都用 main</li><li><strong>冲突不可怕</strong>：先解决再提交，不要跳过合并</li><li><strong>空分支必须先提交</strong>：才能绑定远程</li><li><strong>推送被拒一定先 pull</strong>：不要直接强制推送</li><li><strong>多平台同步用 git alias 最稳定</strong>：不要用复杂脚本</li></ol><h2 id="gitee-github-gitcode-token-申请完整步骤" tabindex="-1">Gitee / GitHub / GitCode Token 申请完整步骤 <a class="header-anchor" href="#gitee-github-gitcode-token-申请完整步骤" aria-label="Permalink to &quot;Gitee / GitHub / GitCode Token 申请完整步骤&quot;">​</a></h2><p>Token（个人访问令牌）是三平台替代密码登录的唯一合法方式，遵循「最小权限原则」申请，既能满足 Git 推送需求，又能保障账号安全。以下是三个平台的详细申请步骤，全程网页端操作，步骤清晰可直接对照执行。</p><h3 id="_1-gitee-token-申请步骤" tabindex="-1">1. Gitee Token 申请步骤 <a class="header-anchor" href="#_1-gitee-token-申请步骤" aria-label="Permalink to &quot;1. Gitee Token 申请步骤&quot;">​</a></h3><ol><li><p><strong>登录 Gitee 官网</strong>：打开 <code>https://gitee.com</code>，登录个人账号（本文以账号 <code>quxiangshun</code> 为例）。</p></li><li><p><strong>进入私人令牌页面</strong>：点击页面右上角「个人头像」→ 下拉菜单选择「设置」→ 左侧菜单栏找到「私人令牌」，点击进入令牌管理页面。</p></li><li><p><strong>生成新令牌</strong>：点击页面右上角「生成新令牌」，进入配置页面，按以下要求填写：</p><ul><li><strong>令牌描述（Note）</strong>：填写易识别的备注，如「Git 多平台同步 - ly-docs 仓库专用」，便于后续区分令牌用途。</li><li><strong>有效期</strong>：推荐选择「长期有效」（个人使用），或按需选择短期（如30天），到期后需重新申请。</li><li><strong>权限勾选</strong>：仅勾选「仓库管理（repo）」相关权限（最小权限原则），具体勾选以下选项： <ul><li>repo：仓库的读写权限（核心，必须勾选）</li><li>projects：项目管理权限（辅助，可选勾选）</li></ul></li></ul></li><li><p><strong>确认生成并保存</strong>：配置完成后，滚动到页面底部，点击「提交」，会弹出账号密码验证弹窗，输入 Gitee 登录密码确认。验证通过后，会生成一串 Token（如本文提供的 7a**************7c），该 Token 仅显示一次，务必立即复制并保存到安全位置（如记事本、密码管理器），关闭页面后无法再次查看。</p></li><li><p><strong>Token 失效/替换</strong>：若 Token 不慎泄露或失效，回到「私人令牌」页面，找到对应令牌，点击「撤销」即可失效，随后重新按上述步骤生成新 Token。</p></li></ol><h3 id="_2-github-token-申请步骤" tabindex="-1">2. GitHub Token 申请步骤 <a class="header-anchor" href="#_2-github-token-申请步骤" aria-label="Permalink to &quot;2. GitHub Token 申请步骤&quot;">​</a></h3><ol><li><p><strong>登录 GitHub 官网</strong>：打开 <code>https://github.com</code>，登录个人账号（本文以账号 <code>quxiangshun</code> 为例）。</p></li><li><p><strong>进入开发者设置页面</strong>：点击页面右上角「个人头像」→ 下拉菜单选择「Settings」（设置）→ 左侧菜单栏滚动到最底部，点击「Developer settings」（开发者设置）→ 再选择「Personal access tokens」（个人访问令牌）→ 点击「Tokens (classic)」（经典令牌，推荐新手使用，权限更易控制）。</p></li><li><p><strong>生成新的经典令牌</strong>：点击页面右上角「Generate new token」→ 下拉选择「Generate new token (classic)」，进入配置页面，按以下要求填写：</p><ul><li><strong>Note（备注）</strong>：填写令牌用途，如「Git 多平台同步 - ly-docs 仓库推送专用」，便于后续识别。</li><li><strong>Expiration（有效期）</strong>：推荐选择短期（如30天），安全性更高；个人使用可选择「No expiration」（永不过期），到期后需重新生成。</li><li><strong>Select scopes（权限范围）</strong>：仅勾选「repo」分类下的所有权限（满足 Git 推送需求即可），具体勾选： <ul><li>repo:status：仓库状态访问权限</li><li>repo_deployment：仓库部署权限</li><li>public_repo：公共仓库读写权限</li><li>repo:invite：仓库邀请权限</li><li>security_events：安全事件权限</li></ul></li></ul></li><li><p><strong>生成并保存 Token</strong>：滚动到页面底部，点击「Generate token」（生成令牌），生成一串以 ghp_ 开头的 Token（如本文提供的 github_pat_11A********）。该 Token 仅显示一次，立即复制并保存到安全位置，关闭页面后无法找回。</p></li><li><p><strong>Token 管理</strong>：若 Token 泄露、过期，回到「Personal access tokens」页面，找到对应 Token，点击「Revoke」（撤销）即可失效，重新生成新 Token 替换即可。</p></li></ol><h3 id="_3-gitcode-token-申请步骤" tabindex="-1">3. GitCode Token 申请步骤 <a class="header-anchor" href="#_3-gitcode-token-申请步骤" aria-label="Permalink to &quot;3. GitCode Token 申请步骤&quot;">​</a></h3><ol><li><p><strong>登录 GitCode 官网</strong>：打开 <code>https://gitcode.com</code>，登录个人账号（本文以账号 <code>quxiangshun</code> 为例），GitCode 与 Gitee 操作逻辑相近，流程基本一致。</p></li><li><p><strong>进入访问令牌页面</strong>：点击页面右上角「个人头像」→ 下拉菜单选择「设置」→ 左侧菜单栏找到「访问令牌」，点击进入令牌管理页面。</p></li><li><p><strong>生成新令牌</strong>：点击页面「生成令牌」按钮，进入配置页面，按以下要求填写：</p><ul><li><strong>令牌名称</strong>：填写备注，如「ly-docs 仓库多平台同步专用」，便于区分。</li><li><strong>有效期</strong>：按需选择，推荐「长期有效」（个人使用），或短期有效，到期重新申请。</li><li><strong>权限勾选</strong>：仅勾选「仓库管理」相关权限（最小权限），具体勾选「仓库管理」分类下的所有选项，确保拥有仓库的读写权限，满足 Git 推送需求。</li></ul></li><li><p><strong>确认生成并保存</strong>：配置完成后，点击「生成」按钮，会生成一串 Token（如本文提供的 jN********Zs）。该 Token 仅显示一次，立即复制并保存，关闭页面后无法再次查看。</p></li><li><p><strong>Token 失效处理</strong>：若 Token 泄露、失效，回到「访问令牌」页面，找到对应令牌，点击「删除」即可失效，重新按上述步骤生成新 Token 替换。</p></li></ol><h3 id="token-通用注意事项" tabindex="-1">Token 通用注意事项 <a class="header-anchor" href="#token-通用注意事项" aria-label="Permalink to &quot;Token 通用注意事项&quot;">​</a></h3><ol><li><p><strong>安全性第一</strong>：Token 等价于账号密码，请勿公开分享（如截图、发给他人），避免账号被盗用；若不慎泄露，立即在对应平台撤销 Token 并重新生成。</p></li><li><p><strong>最小权限原则</strong>：申请时仅勾选 Git 推送所需权限（如 repo 权限），无需勾选无关权限（如账号管理、支付相关），降低泄露风险。</p></li><li><p><strong>定期更换</strong>：即使设置为永不过期，也建议定期（如3个月）重新生成 Token，提升账号安全性。</p></li><li><p><strong>用途区分</strong>：若有多个项目，建议为每个项目生成单独的 Token，便于管理和撤销，避免一个 Token 泄露影响所有项目。</p></li></ol><h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;">​</a></h2><p>通过本文介绍的方法，我们可以实现 Git 一键同步代码到 GitHub、Gitee、GitCode 等多个代码托管平台，大大提高了开发效率。具体步骤如下：</p><ol><li>为本地仓库添加多个远程仓库地址</li><li>创建同步脚本，用于批量推送代码</li><li>执行脚本，实现一键同步</li></ol><p>此外，我们还介绍了一些高级配置和最佳实践，帮助你更好地管理多平台代码同步。希望本文对你有所帮助！</p><h2 id="相关链接" tabindex="-1">相关链接 <a class="header-anchor" href="#相关链接" aria-label="Permalink to &quot;相关链接&quot;">​</a></h2><ul><li><a href="https://git-scm.com/doc" target="_blank" rel="noreferrer">Git 官方文档</a></li><li><a href="https://docs.github.com/en" target="_blank" rel="noreferrer">GitHub 帮助文档</a></li><li><a href="https://gitee.com/help" target="_blank" rel="noreferrer">Gitee 帮助文档</a></li><li><a href="https://gitcode.net/help" target="_blank" rel="noreferrer">GitCode 帮助文档</a></li></ul>`,136)])])}const c=i(l,[["render",e]]);export{g as __pageData,c as default};
