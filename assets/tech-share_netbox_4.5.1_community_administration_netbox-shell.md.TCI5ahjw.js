import{_ as i,o as a,c as t,ag as e}from"./chunks/framework.BT_aBzO2.js";const c=JSON.parse('{"title":"NetBox Shell","description":"NetBox Python Shell","frontmatter":{"title":"NetBox Shell","description":"NetBox Python Shell"},"headers":[],"relativePath":"tech-share/netbox/4.5.1/community/administration/netbox-shell.md","filePath":"tech-share/netbox/4.5.1/community/administration/netbox-shell.md"}'),n={name:"tech-share/netbox/4.5.1/community/administration/netbox-shell.md"};function h(l,s,p,k,o,d){return a(),t("div",null,[...s[0]||(s[0]=[e(`<h1 id="the-netbox-python-shell-netbox-python-shell" tabindex="-1">The NetBox Python Shell / NetBox Python Shell <a class="header-anchor" href="#the-netbox-python-shell-netbox-python-shell" aria-label="Permalink to &quot;The NetBox Python Shell / NetBox Python Shell&quot;">​</a></h1><p><em>内容来源 / Source: <a href="https://netboxlabs.com/docs/netbox/administration/netbox-shell/" target="_blank" rel="noreferrer">NetBox Labs Documentation</a> | 如有侵权请<a href="/contact.html">联系我们</a>删除</em></p><h2 id="启动" tabindex="-1">启动 <a class="header-anchor" href="#启动" aria-label="Permalink to &quot;启动&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /opt/netbox</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /opt/netbox/venv/bin/activate</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> netbox/manage.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nbshell</span></span></code></pre></div><p><code>lsmodels()</code> 列出所有模型，<code>help(&lt;model&gt;)</code> 查看帮助。</p><h2 id="查询对象" tabindex="-1">查询对象 <a class="header-anchor" href="#查询对象" aria-label="Permalink to &quot;查询对象&quot;">​</a></h2><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Device.objects.all()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Device.objects.filter(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">status</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;active&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Device.objects.get(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">pk</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Device.objects.filter(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">tenant__name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Pied Piper&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h2 id="创建-更新" tabindex="-1">创建/更新 <a class="header-anchor" href="#创建-更新" aria-label="Permalink to &quot;创建/更新&quot;">​</a></h2><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">myvlan </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> VLAN(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">vid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">123</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;MyNewVLAN&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">site</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">lab1)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">myvlan.full_clean()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">myvlan.save()</span></span></code></pre></div><h2 id="删除" tabindex="-1">删除 <a class="header-anchor" href="#删除" aria-label="Permalink to &quot;删除&quot;">​</a></h2><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vlan.delete()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Device.objects.filter(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name__icontains</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;test&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).delete()</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Shell 直接操作数据，无充分验证。操作前务必备份。</p></div>`,12)])])}const E=i(n,[["render",h]]);export{c as __pageData,E as default};
