import{_ as i,o as a,c as t,a2 as n}from"./chunks/framework.C766EroN.js";const c=JSON.parse('{"title":"LyEdu 配置参考","description":"","frontmatter":{},"headers":[],"relativePath":"projects/lyedu/configuration.md","filePath":"projects/lyedu/configuration.md"}'),l={name:"projects/lyedu/configuration.md"};function e(h,s,p,d,r,k){return a(),t("div",null,[...s[0]||(s[0]=[n(`<h1 id="lyedu-配置参考" tabindex="-1">LyEdu 配置参考 <a class="header-anchor" href="#lyedu-配置参考" aria-label="Permalink to &quot;LyEdu 配置参考&quot;">​</a></h1><blockquote><p>编辑日期：2026-02-26<br> 基于 <a href="https://gitee.com/quxiangshun/ly-edu" target="_blank" rel="noreferrer">ly-edu</a> 项目结构整理</p></blockquote><h2 id="一、配置概览" tabindex="-1">一、配置概览 <a class="header-anchor" href="#一、配置概览" aria-label="Permalink to &quot;一、配置概览&quot;">​</a></h2><p>LyEdu 的配置分为以下几类：</p><table tabindex="0"><thead><tr><th>类型</th><th>位置</th><th>说明</th></tr></thead><tbody><tr><td>开发环境</td><td>scripts/dev/dev-config.yml</td><td>一键启动脚本使用的配置</td></tr><tr><td>Python 后端</td><td>lyedu-api-python/.env、.env.dev</td><td>环境变量</td></tr><tr><td>Java 后端</td><td>lyedu-api/application.yml</td><td>Spring Boot 配置</td></tr><tr><td>Docker 部署</td><td>scripts/docker/.env</td><td>镜像源、构建参数等</td></tr><tr><td>系统配置</td><td>管理后台「系统配置」</td><td>网站、播放器、学员端等运行时配置</td></tr></tbody></table><h2 id="二、开发环境配置-dev-config-yml" tabindex="-1">二、开发环境配置（dev-config.yml） <a class="header-anchor" href="#二、开发环境配置-dev-config-yml" aria-label="Permalink to &quot;二、开发环境配置（dev-config.yml）&quot;">​</a></h2><p><strong>路径</strong>：<code>scripts/dev/dev-config.yml</code>（从 <code>dev-config.example.yml</code> 复制）</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 示例结构</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">database</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  host</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">localhost</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  port</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3306</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">root</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  password</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">your_password</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">lyedu</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">redis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  host</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">localhost</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  port</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6379</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 若本机未监听 MySQL 端口，是否自动启动 Docker MySQL+Redis</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">start_docker_mysql_redis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 是否启动各服务</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">start_lyedu_api_python</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">start_lyedu_admin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">start_lyedu_pc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span></code></pre></div><ul><li><code>database.port</code> 可用于判断是否自动执行 <code>docker compose</code> 启动 MySQL+Redis</li><li>修改后需重新运行 <code>.\\scripts\\dev\\start.ps1</code></li></ul><h2 id="三、python-后端配置-env" tabindex="-1">三、Python 后端配置（.env） <a class="header-anchor" href="#三、python-后端配置-env" aria-label="Permalink to &quot;三、Python 后端配置（.env）&quot;">​</a></h2><p><strong>路径</strong>：<code>lyedu-api-python/.env</code> 或 <code>.env.dev</code></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 示例</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">dev</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DATABASE_URL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">mysql+aiomysql://user:password@localhost:3306/lyedu</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">REDIS_URL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">redis://localhost:6379/0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># JWT</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SECRET_KEY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">your-secret-key</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Feishu（若启用）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">FEISHU_APP_ID</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">your-app-id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">FEISHU_APP_SECRET</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">your-app-secret</span></span></code></pre></div><ul><li><code>DATABASE_URL</code>：Alembic 与 SQLAlchemy 使用</li><li>Java 使用 <code>application.yml</code>，配置格式不同，但含义对应</li></ul><h2 id="四、java-后端配置-application-yml" tabindex="-1">四、Java 后端配置（application.yml） <a class="header-anchor" href="#四、java-后端配置-application-yml" aria-label="Permalink to &quot;四、Java 后端配置（application.yml）&quot;">​</a></h2><p><strong>路径</strong>：<code>lyedu-api/src/main/resources/application.yml</code></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">spring</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  datasource</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">jdbc:mysql://localhost:3306/lyedu</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    username</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">root</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    password</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">your_password</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  redis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    host</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">localhost</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    port</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6379</span></span></code></pre></div><p>按 profile（dev / prod）可拆分多份配置文件。</p><h2 id="五、docker-部署配置-env" tabindex="-1">五、Docker 部署配置（.env） <a class="header-anchor" href="#五、docker-部署配置-env" aria-label="Permalink to &quot;五、Docker 部署配置（.env）&quot;">​</a></h2><p><strong>路径</strong>：<code>scripts/docker/.env</code>（从 <code>.env.example</code> 复制）</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 镜像源（国内加速）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DOCKER_REGISTRY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">registry.cn-hangzhou.aliyuncs.com</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">NPM_REGISTRY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">https://registry.npmmirror.com</span></span></code></pre></div><p>用于 <code>docker compose build</code> 时的拉取与构建加速。</p><h2 id="六、系统级配置-管理后台" tabindex="-1">六、系统级配置（管理后台） <a class="header-anchor" href="#六、系统级配置-管理后台" aria-label="Permalink to &quot;六、系统级配置（管理后台）&quot;">​</a></h2><p>在「系统管理」→「系统配置」中可配置：</p><h3 id="_1-网站配置" tabindex="-1">1. 网站配置 <a class="header-anchor" href="#_1-网站配置" aria-label="Permalink to &quot;1. 网站配置&quot;">​</a></h3><ul><li>网站名称、Logo、版权信息等</li><li>影响 PC 端、学员端展示</li></ul><h3 id="_2-播放器配置" tabindex="-1">2. 播放器配置 <a class="header-anchor" href="#_2-播放器配置" aria-label="Permalink to &quot;2. 播放器配置&quot;">​</a></h3><ul><li><strong>防拖拽</strong>：是否禁止视频拖拽</li><li><strong>禁倍速</strong>：是否禁止调整播放倍速</li><li>适用于 PC 端与 H5 播放器</li></ul><h3 id="_3-学员端配置" tabindex="-1">3. 学员端配置 <a class="header-anchor" href="#_3-学员端配置" aria-label="Permalink to &quot;3. 学员端配置&quot;">​</a></h3><ul><li>学员端相关展示与行为</li><li>与 lyedu-unix 前端配合使用</li></ul><h3 id="_4-第三方配置" tabindex="-1">4. 第三方配置 <a class="header-anchor" href="#_4-第三方配置" aria-label="Permalink to &quot;4. 第三方配置&quot;">​</a></h3><ul><li><strong>飞书</strong>：App ID、App Secret、回调地址</li><li><strong>钉钉 / 企微</strong>：预留，可按需扩展</li></ul><h2 id="七、环境变量一览-python" tabindex="-1">七、环境变量一览（Python） <a class="header-anchor" href="#七、环境变量一览-python" aria-label="Permalink to &quot;七、环境变量一览（Python）&quot;">​</a></h2><table tabindex="0"><thead><tr><th>变量</th><th>说明</th><th>示例</th></tr></thead><tbody><tr><td>ENV</td><td>环境</td><td>dev / prod</td></tr><tr><td>DATABASE_URL</td><td>数据库连接</td><td>mysql+aiomysql://...</td></tr><tr><td>REDIS_URL</td><td>Redis 连接</td><td>redis://localhost:6379/0</td></tr><tr><td>SECRET_KEY</td><td>JWT 密钥</td><td>随机长字符串</td></tr><tr><td>FEISHU_APP_ID</td><td>飞书 App ID</td><td>-</td></tr><tr><td>FEISHU_APP_SECRET</td><td>飞书 App Secret</td><td>-</td></tr></tbody></table><h2 id="八、配置最佳实践" tabindex="-1">八、配置最佳实践 <a class="header-anchor" href="#八、配置最佳实践" aria-label="Permalink to &quot;八、配置最佳实践&quot;">​</a></h2><ol><li><strong>敏感信息</strong>：密码、密钥等使用环境变量，勿提交代码库</li><li><strong>多环境</strong>：dev/test/prod 使用不同配置文件或 env</li><li><strong>默认值</strong>：提供 <code>.env.example</code> / <code>dev-config.example.yml</code> 作为模板</li><li><strong>系统配置</strong>：运行时修改的配置走管理后台，避免改代码重启</li></ol><h2 id="相关链接" tabindex="-1">相关链接 <a class="header-anchor" href="#相关链接" aria-label="Permalink to &quot;相关链接&quot;">​</a></h2><ul><li><a href="/projects/lyedu/deployment.html">部署指南</a></li><li><a href="/projects/lyedu/api-docs.html">API 文档</a></li><li><a href="/projects/lyedu/integrations.html">集成说明</a></li><li><a href="https://gitee.com/quxiangshun/ly-edu" target="_blank" rel="noreferrer">项目仓库</a></li></ul>`,37)])])}const E=i(l,[["render",e]]);export{c as __pageData,E as default};
