import{_ as a,o as t,c as i,a2 as e}from"./chunks/framework.C766EroN.js";const c=JSON.parse('{"title":"LyEdu API 文档","description":"","frontmatter":{},"headers":[],"relativePath":"projects/lyedu/api-docs.md","filePath":"projects/lyedu/api-docs.md"}'),l={name:"projects/lyedu/api-docs.md"};function h(n,s,p,d,r,o){return t(),i("div",null,[...s[0]||(s[0]=[e(`<h1 id="lyedu-api-文档" tabindex="-1">LyEdu API 文档 <a class="header-anchor" href="#lyedu-api-文档" aria-label="Permalink to &quot;LyEdu API 文档&quot;">​</a></h1><blockquote><p>编辑日期：2026-02-26<br> 基于 <a href="https://gitee.com/quxiangshun/ly-edu" target="_blank" rel="noreferrer">ly-edu</a> 项目结构整理</p></blockquote><h2 id="一、api-概览" tabindex="-1">一、API 概览 <a class="header-anchor" href="#一、api-概览" aria-label="Permalink to &quot;一、API 概览&quot;">​</a></h2><p>LyEdu 提供 RESTful API，支持课程管理、学习跟踪、考试、证书、用户/部门等模块。前后端通过 JWT 进行认证。</p><h3 id="在线文档" tabindex="-1">在线文档 <a class="header-anchor" href="#在线文档" aria-label="Permalink to &quot;在线文档&quot;">​</a></h3><ul><li><strong>Python 后端</strong>：<a href="http://localhost:9700/docs" target="_blank" rel="noreferrer">http://localhost:9700/docs</a> 或 <a href="http://localhost:9700/api-docs%EF%BC%88%E5%90%AF%E5%8A%A8%E5%90%8E%E8%AE%BF%E9%97%AE%EF%BC%89" target="_blank" rel="noreferrer">http://localhost:9700/api-docs（启动后访问）</a></li><li><strong>Java 后端</strong>：<a href="http://localhost:8080/api-docs%EF%BC%88%E8%8B%A5%E5%90%AF%E7%94%A8" target="_blank" rel="noreferrer">http://localhost:8080/api-docs（若启用</a> SpringDoc）</li></ul><p>根据实际使用的后端，访问对应地址查看交互式 API 文档。</p><h2 id="二、认证方式" tabindex="-1">二、认证方式 <a class="header-anchor" href="#二、认证方式" aria-label="Permalink to &quot;二、认证方式&quot;">​</a></h2><h3 id="_1-用户名密码登录" tabindex="-1">1. 用户名密码登录 <a class="header-anchor" href="#_1-用户名密码登录" aria-label="Permalink to &quot;1. 用户名密码登录&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> POST</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:9700/api/auth/login</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Content-Type: application/json&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{&quot;username&quot;: &quot;admin&quot;, &quot;password&quot;: &quot;123456&quot;}&#39;</span></span></code></pre></div><p>响应示例：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;access_token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;eyJhbGciOiJIUzI1NiIs...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;token_type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bearer&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;expires_in&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">86400</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_2-携带-token-调用" tabindex="-1">2. 携带 Token 调用 <a class="header-anchor" href="#_2-携带-token-调用" aria-label="Permalink to &quot;2. 携带 Token 调用&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:9700/api/courses</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Authorization: Bearer &lt;your-token&gt;&quot;</span></span></code></pre></div><h2 id="三、主要接口模块" tabindex="-1">三、主要接口模块 <a class="header-anchor" href="#三、主要接口模块" aria-label="Permalink to &quot;三、主要接口模块&quot;">​</a></h2><p>以下为功能对照，具体路径以 Swagger / OpenAPI 文档为准：</p><table tabindex="0"><thead><tr><th>模块</th><th>说明</th><th>典型路径</th></tr></thead><tbody><tr><td>认证</td><td>登录、登出、刷新 token</td><td>/api/auth/*</td></tr><tr><td>用户</td><td>用户 CRUD、部门关联</td><td>/api/users/*</td></tr><tr><td>部门</td><td>部门树、用户列表</td><td>/api/departments/*</td></tr><tr><td>课程</td><td>课程、章节、视频、附件</td><td>/api/courses/*</td></tr><tr><td>学习</td><td>学习进度、学习记录</td><td>/api/learning/*</td></tr><tr><td>考试</td><td>题库、试卷、考试、成绩</td><td>/api/exams/*</td></tr><tr><td>证书</td><td>证书、证书模板</td><td>/api/certificates/*</td></tr><tr><td>任务</td><td>周期任务、新员工任务</td><td>/api/tasks/*</td></tr><tr><td>知识库</td><td>知识中心、文档</td><td>/api/knowledge/*</td></tr><tr><td>积分</td><td>积分规则、流水、排行</td><td>/api/points/*</td></tr><tr><td>系统</td><td>系统配置、图片库</td><td>/api/system/*</td></tr></tbody></table><h2 id="四、通用响应格式" tabindex="-1">四、通用响应格式 <a class="header-anchor" href="#四、通用响应格式" aria-label="Permalink to &quot;四、通用响应格式&quot;">​</a></h2><h3 id="成功" tabindex="-1">成功 <a class="header-anchor" href="#成功" aria-label="Permalink to &quot;成功&quot;">​</a></h3><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="失败" tabindex="-1">失败 <a class="header-anchor" href="#失败" aria-label="Permalink to &quot;失败&quot;">​</a></h3><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">400</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;错误描述&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;detail&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;可选详情&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="五、常见状态码" tabindex="-1">五、常见状态码 <a class="header-anchor" href="#五、常见状态码" aria-label="Permalink to &quot;五、常见状态码&quot;">​</a></h2><table tabindex="0"><thead><tr><th>HTTP 状态码</th><th>说明</th></tr></thead><tbody><tr><td>200</td><td>成功</td></tr><tr><td>201</td><td>创建成功</td></tr><tr><td>400</td><td>请求参数错误</td></tr><tr><td>401</td><td>未认证或 token 失效</td></tr><tr><td>403</td><td>无权限</td></tr><tr><td>404</td><td>资源不存在</td></tr><tr><td>500</td><td>服务器错误</td></tr></tbody></table><p>业务错误码见 <a href="/projects/lyedu/error-codes.html">错误码说明</a>。</p><h2 id="六、接口调用示例" tabindex="-1">六、接口调用示例 <a class="header-anchor" href="#六、接口调用示例" aria-label="Permalink to &quot;六、接口调用示例&quot;">​</a></h2><h3 id="获取课程列表" tabindex="-1">获取课程列表 <a class="header-anchor" href="#获取课程列表" aria-label="Permalink to &quot;获取课程列表&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;http://localhost:9700/api/courses?page=1&amp;size=10&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Authorization: Bearer &lt;token&gt;&quot;</span></span></code></pre></div><h3 id="上传文件" tabindex="-1">上传文件 <a class="header-anchor" href="#上传文件" aria-label="Permalink to &quot;上传文件&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> POST</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:9700/api/files/upload</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Authorization: Bearer &lt;token&gt;&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -F</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;file=@/path/to/file.pdf&quot;</span></span></code></pre></div><p>具体字段与分页参数以实际 API 文档为准。</p><h2 id="七、postman-前端对接" tabindex="-1">七、Postman / 前端对接 <a class="header-anchor" href="#七、postman-前端对接" aria-label="Permalink to &quot;七、Postman / 前端对接&quot;">​</a></h2><ol><li>从 Swagger 导出 OpenAPI JSON</li><li>导入 Postman 自动生成请求集合</li><li>前端在 <code>api/</code> 目录封装 Axios 调用，统一添加 <code>Authorization</code> 头</li></ol><h2 id="相关链接" tabindex="-1">相关链接 <a class="header-anchor" href="#相关链接" aria-label="Permalink to &quot;相关链接&quot;">​</a></h2><ul><li><a href="/projects/lyedu/frontend-dev.html">前端开发指南</a></li><li><a href="/projects/lyedu/backend-dev.html">后端开发指南</a></li><li><a href="/projects/lyedu/integrations.html">集成说明</a></li><li><a href="/projects/lyedu/error-codes.html">错误码说明</a></li><li><a href="https://gitee.com/quxiangshun/ly-edu" target="_blank" rel="noreferrer">项目仓库</a></li></ul>`,35)])])}const u=a(l,[["render",h]]);export{c as __pageData,u as default};
